<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="color-scheme" content="light dark" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="canonical" href="https://seip25.github.io/Lila/" />
    <title>Lila Framework - Python Web Framework</title>
    <meta name="google-site-verification" content="X_F63szaGUDmU8TZv_IJ0GvT79Cfncj5YqBJHTKp1t0" />
    <meta name="description"
        content="Lila is a Python web framework based on Starlette and Pydantic, designed for simplicity, flexibility, and high performance." />
    <meta name="keywords" content="Python, Web Framework, API, Starlette, Pydantic, SQLAlchemy, JWT" />
    <meta name="author" content="Lila Framework Team" />

    <meta property="og:title" content="Lila Framework - Python Web Framework" />
    <meta property="og:description"
        content="Lila is a Python web framework based on Starlette and Pydantic, designed for simplicity, flexibility, and high performance." />
    <meta property="og:image" content="https://seip25.github.io/Lila/img/lila.png" />
    <meta property="og:url" content="https://seip25.github.io/Lila/" />
    <meta property="og:type" content="website" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Lila Framework - Python Web Framework" />
    <meta name="twitter:description"
        content="Lila is a Python framework based on Starlette and Pydantic, designed for simplicity, flexibility, and high performance." />
    <meta name="twitter:image" content="https://seip25.github.io/Lila/img/lila.png" />

    <meta name="language" content="en" />
    <meta http-equiv="Content-Language" content="en" />

    <link rel="icon" type="image/png" href="img/lila.png" alt="Lila Framework Logo" />

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        lila: '#A78BFA',
                    }
                }
            }
        }
    </script>

    <link rel="stylesheet" href="css/atom-one-dark.min.css" />
    <link rel="stylesheet" href="css/index.css" />
    <script src="js/highlight.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            hljs.highlightAll();
        });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.2/lib/anime.min.js"></script>

    <script src="js/index.js"></script>

</head>

<body class="bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-200 font-sans antialiased">
    <header class="py-4 border-b dark:border-gray-800">
        <nav class="container mx-auto px-4 flex justify-between items-center">
            <div class="text-2xl font-bold">
                <h1 class="text-lila">
                    <a href="index.html">Lila Framework</a>
                </h1>
            </div>
            <div class="flex items-center space-x-6">
                <button id="theme-toggle-button" type="button"
                    class="p-2 rounded-md text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-300 dark:focus:ring-gray-600">
                    <svg id="theme-toggle-sun-icon" class="h-6 w-6 hidden" fill="currentColor" viewBox="0 0 20 20"
                        xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm-.707 12.122l.707-.707a1 1 0 011.414 1.414l-.707.707a1 1 0 01-1.414-1.414zM4 11a1 1 0 100-2H3a1 1 0 100 2h1z"
                            fill-rule="evenodd" clip-rule="evenodd"></path>
                    </svg>
                    <svg id="theme-toggle-moon-icon" class="h-6 w-6" fill="currentColor" viewBox="0 0 20 20"
                        xmlns="http://www.w3.org/2000/svg">
                        <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
                    </svg>
                </button>
                <ul class="flex items-center space-x-6">
                    <li><a href="esp/documentation.html"
                            class="hover:text-lila transition-colors duration-200">Español</a></li>
                    <li><a href="https://github.com/seip25/Lila"
                            class="hover:text-lila transition-colors duration-200">Github</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <div class="flex">
        <aside class="fixed top-16 left-0 w-64 h-full bg-white dark:bg-gray-900 border-r dark:border-gray-800 overflow-y-auto">
            <nav class="p-4">
                <ul class="space-y-1">
                    <li><a href="#install-eng" class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">Installation</a></li>
                    <li><a href="#routes-eng" class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">Routes</a></li>
                    <li><a href="#static-eng" class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">Static</a></li>
                    <li><a href="#templates-eng" class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">Templates</a></li>
                    <li><a href="#session-eng" class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">Session</a></li>
                    <li><a href="#upload-eng" class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">Uploads Files</a></li>
                    <li><a href="#markdown-eng" class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">Markdown/HTML</a></li>
                    <li><a href="#locales-eng" class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">Internationalization</a></li>
                    <li><a href="#models-eng" class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">Models</a></li>
                    <li><a href="#middlewares-eng" class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">Middlewares</a></li>
                    <li><a href="#connections-eng" class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">Connections</a></li>
                    <li><a href="#migrations-eng" class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">Migrations</a></li>
                    <li><a href="#react-seo" class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">React</a></li>
                    <li><a href="#rest_api_crud-eng" class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">API Rest CRUD</a></li>
                    <li><a href="#admin-panel-eng" class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">Admin Panel</a></li>
                    <li><a href="#minify-eng" class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">Minify</a></li>
                    <li><a href="#production-eng" class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">Production</a></li>
                </ul>
            </nav>
        </aside>

        <main class="ml-64 p-8 w-full">
            <div class="max-w-4xl mx-auto">
                <div id="search" class="mt-8 mb-8">
                    <input type="search" name="search" id="searchBox" placeholder="Search..."
                        onkeyup="searchDocs(false,'eng')"
                        class="w-full p-2 border border-gray-500 
                        bg-white  dark:bg-gray-800 dark:border-gray-800 focus:outline-none focus:ring-2 focus:ring-lila transition rounded-lg" />
                    <ul id="searchResults"></ul>
                </div>

                <div id="doc">
                    <div id="doc-eng" class="mt-8 mb-8 container mx-auto px-4 py-4 mt-8 mb-8  ">

                        <article id="install-eng" class="section-card">
                            <h2 class="text-3xl font-bold text-gray-800 dark:text-white mb-6 flex items-center">
                                <i class="fas fa-download mr-3 text-lila-500"></i> Installation
                            </h2>
                            <div class="code-editor mt-6 mb-6">
                                <div class="editor-header bg-gray-800 dark:bg-gray-900">
                                    <span class="editor-title text-gray-300 dark:text-gray-400">
                                        <i class="fas fa-terminal mr-2"></i>Installation Commands
                                    </span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content bg-gray-900 dark:bg-black">
                                    <div class="command-line flex items-start mb-2">
                                        <span class="text-purple-400 mr-2">$</span>
                                        <span class="comando text-green-400">python -m venv venv</span>
                                        <span class="text-gray-500 ml-2"># Or python3 -m venv venv</span>
                                    </div>
                                    <div class="command-line flex items-start mb-2">
                                        <span class="text-purple-400 mr-2">$</span>
                                        <span class="comando text-green-400">source venv/bin/activate</span>
                                        <span class="text-gray-500 ml-2"># On Windows use `venv\Scripts\activate`</span>
                                    </div>
                                    <div class="command-line flex items-start mb-2">
                                        <span class="text-purple-400 mr-2">$</span>
                                        <span class="comando text-green-400">pip install lila-framework</span>
                                    </div>
                                    <div class="command-line flex items-start mb-2">
                                        <span class="text-purple-400 mr-2">$</span>
                                        <span class="comando text-green-400">lila-init</span>
                                    </div>
                                    <div class="command-line flex items-start">
                                        <span class="text-purple-400 mr-2">$</span>
                                        <span class="comando text-green-400">python main.py</span>
                                        <span class="text-gray-500 ml-2"># Or python3 main.py</span>
                                    </div>
                                    <span class="cursor"></span>
                                </div>
                            </div>
                        </article>

                        <div class="border-t border-gray-200 dark:border-gray-700 my-8"></div>

                        <article id="app-py-eng" class="section-card">
                            <h2 class="text-3xl font-bold text-gray-800 dark:text-white mb-6 flex items-center">
                                <i class="fas fa-cogs mr-3 text-lila-500"></i> Application Configuration
                            </h2>
                            <p class="text-gray-600 dark:text-gray-300 mb-6 text-lg">
                                <strong>Purpose:</strong> Configure and start the application. main.py is the main entry
                                point where the application is configured and initialized.
                            </p>

                            <div class="code-editor mt-6 mb-6">
                                <div class="editor-header bg-gray-800 dark:bg-gray-900">
                                    <span class="editor-title text-gray-300 dark:text-gray-400">
                                        <i class="fas fa-file-code mr-2"></i>main.py Explanation
                                    </span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content bg-gray-900 dark:bg-black">
                                    <pre><code class="language-python">
from lila.core.app import App
from app.routes.routes import routes
from app.routes.api import routes as api_routes
from lila.core.middleware import Middleware
from app.config import PORT, HOST, DEBUG
from app.middlewares.defaults import (
    LoggingMiddleware,
    IPBlockingMiddleware,
    URLBlockingMiddleware,
    MaliciousExtensionMiddleware,
    SensitivePathMiddleware,
    ErrorHandlerMiddleware,
)
import itertools
import uvicorn
import asyncio

# English: Combining application and API routes into a single list.
# Español: Combinando las rutas de la aplicación y la API en una única lista.
all_routes = list(itertools.chain(routes, api_routes))

# English: Here we activate the admin panel with default settings.
# Español: Aquí activamos el panel de administrador con configuraciones predeterminadas.
# from app.routes.admin import Admin
# from app.models.user import User
# admin_routes=Admin(models=[User])
# all_routes = list(itertools.chain(routes, api_routes,admin_routes))
# English: Marker for the admin routes in main.py.
# Español: Marcador para las rutas de administrador en main.py.
# admin_marker

cors = None

# English: CORS usage example
# Español : Ejemplo de utilización de CORS
# cors={
#     "origin": ["*"],
#     "allow_credentials" : True,
#     "allow_methods":["*"],
#     "allow_headers": ["*"]
# }
# app = App(debug=True, routes=all_routes,cors=cors)

# English:necessary for cli command modify react cors for development
# Español:necesario para el comando cli modificar cors de react para desarrollo
# react_marker

middlewares = [
    Middleware(LoggingMiddleware),
    Middleware(IPBlockingMiddleware),
    Middleware(URLBlockingMiddleware),
    Middleware(MaliciousExtensionMiddleware),
    Middleware(SensitivePathMiddleware),
    Middleware(ErrorHandlerMiddleware),
]

# English: Initializing the application with debugging enabled and the combined routes.
# Español: Inicializando la aplicación con la depuración activada y las rutas combinadas.
app = App(debug=DEBUG, routes=all_routes, cors=cors, middleware=middlewares)

# English: To ensure SEO (bots, AI), caching, and HTML hydration, uncomment these lines.
# Adding {% include "react/cache/index.html" %} to <div id="root">
# Español :Para tener seo (bots,ia) ,cache y que react hidrate el html ,descomenta estas lineas.
# Agregadando en <div id="root"> ,  {% include "react/cache/index.html"  %}

# import subprocess
# import sys

# @app.on_event("startup")
# async def startup_event():
#     print("♻️ Prerender for react...")
#     url_with_port =f" http://{HOST}:{PORT}"
#     subprocess.Popen([
#     sys.executable,
#     "-m",
#     "cli.prerender",
#     "--url",
#     url_with_port.strip()
# ])


# English: Asynchronous main function to run the application server.
# Español: Función principal asíncrona para ejecutar el servidor de la aplicación.
async def main():
    # English: Starting the Uvicorn server with the application instance.
    # Español: Iniciando el servidor Uvicorn con la instancia de la aplicación.
    uvicorn.run("main:app", host=HOST, port=PORT, reload=True)


# English: Entry point for the script, running the main asynchronous function.
# Español: Punto de entrada del script, ejecutando la función principal asíncrona.
if __name__ == "__main__":
    try:
        asyncio.run(main())
    except KeyboardInterrupt:
        # English: Gracefully shutting down the application on keyboard interrupt.
        # Español: Apagando la aplicación de manera ordenada al interrumpir con el teclado.
        print("Shutting down the application...")
        pass
            </code></pre>
                                </div>
                            </div>
                        </article>

                        <div class="border-t border-gray-200 dark:border-gray-700 my-8"></div>

                        <article id="routes-eng" class="section-card">
                            <h2 class="text-3xl font-bold text-gray-800 dark:text-white mb-6 flex items-center">
                                <i class="fas fa-route mr-3 text-lila-500"></i> Routes
                            </h2>

                            <p class="text-gray-600 dark:text-gray-300 mb-4">
                                Routes are the access points to the application. In Lila, routes are defined in the
                                <code class="code-inline">routes</code> directory (by default, but you can place them
                                wherever you want) and
                                imported into <code class="code-inline">main.py</code> for use. Routes can be configured
                                to handle HTTP requests, API
                                methods, and more.
                            </p>

                            <p class="text-gray-600 dark:text-gray-300 mb-6">
                                In addition to JSONResponse you can use HTMLResponse, RedirectResponse and
                                PlainTextResponse, or
                                StreamingResponse, to transmit data in real-time (useful for streaming video/audio or
                                large responses).
                            </p>

                            <p class="text-gray-600 dark:text-gray-300 mb-6">
                                Below is an example of how routes are defined in Lila:
                            </p>

                            <div class="code-editor mt-6 mb-8">
                                <div class="editor-header bg-gray-800 dark:bg-gray-900">
                                    <span class="editor-title text-gray-300 dark:text-gray-400">
                                        <i class="fas fa-file-code mr-2"></i>routes/api.py
                                    </span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content bg-gray-900 dark:bg-black">
                                    <pre><code class="language-python">
# Import from lila.core JSONResponse.
from lila.core.responses import JSONResponse 

# Manages routes for API endpoints.
from lila.core.routing import Router  
# Initializes the router instance to handle API app.routes.
router = Router()

# Defines a simple API route that supports the GET method.
@router.route(path='/api', methods=['GET'])
async def api(request: Request):
    """Api function"""
    # English: Returns a simple JSON response for API verification.
    return JSONResponse({'api': True})   
            </code></pre>
                                </div>
                            </div>

                            <h3
                                class="text-2xl font-semibold text-gray-800 dark:text-white mt-10 mb-4 flex items-center">
                                <i class="fas fa-code-branch mr-2 text-lila-400"></i> Get URL Parameters
                            </h3>

                            <p class="text-gray-600 dark:text-gray-300 mb-4">
                                In this function, we receive a parameter via the URL using <code
                                    class="code-inline">{param}</code>.
                                If the parameter is not provided, it defaults to <code
                                    class="code-inline">'default'</code>.
                                The response is a JSON containing the received value.
                            </p>

                            <div class="code-editor mt-6 mb-8">
                                <div class="editor-header bg-gray-800 dark:bg-gray-900">
                                    <span class="editor-title text-gray-300 dark:text-gray-400">
                                        <i class="fas fa-code mr-2"></i>Receiving GET Parameters
                                    </span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content bg-gray-900 dark:bg-black">
                                    <pre><code class="language-python">
@router.route(path='/url_with_param/{param}', methods=['GET']) 
async def param(request: Request):  
    param = request.path_params.get('param', 'default') 
    return JSONResponse({"received_param": param})
            </code></pre>
                                </div>
                            </div>

                            <p class="text-gray-600 dark:text-gray-300 mb-6">
                                Or you can also do it like this:
                            </p>

                            <div class="code-editor mt-6 mb-8">
                                <div class="editor-header bg-gray-800 dark:bg-gray-900">
                                    <span class="editor-title text-gray-300 dark:text-gray-400">
                                        <i class="fas fa-code mr-2"></i>Receiving GET Query Parameters
                                    </span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content bg-gray-900 dark:bg-black">
                                    <pre><code class="language-python"> 
@router.route(path='/url_with_param/?query_param', methods=['GET','POST']) 
async def query_param(request: Request):  
    query_param = request.query_params.get('query_param', 'query_param')
    return JSONResponse({"received_param": query_param})
            </code></pre>
                                </div>
                            </div>

                            <div class="code-editor mt-6 mb-8">
                                <div class="editor-header bg-gray-800 dark:bg-gray-900">
                                    <span class="editor-title text-gray-300 dark:text-gray-400">
                                        <i class="fas fa-file-import mr-2"></i>Basic Imports
                                    </span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content bg-gray-900 dark:bg-black">
                                    <pre><code class="language-python">
from lila.core.responses import JSONResponse  # Simplifies sending JSON responses.
from lila.core.routing import Router  # Manages API app.routes.
from lila.core.request import Request  # Handles HTTP requests in the application.
from pydantic import EmailStr, BaseModel  # Validates and parses data models for input validation.
from app.helpers.helpers import get_user_by_id_and_token
from app.middlewares.middlewares import validate_token

router = Router()
            </code></pre>
                                </div>
                            </div>

                            <h3
                                class="text-2xl font-semibold text-gray-800 dark:text-white mt-10 mb-4 flex items-center">
                                <i class="fas fa-filter mr-2 text-lila-400"></i> Middleware and Decorators Usage
                            </h3>

                            <p class="text-gray-600 dark:text-gray-300 mb-6">
                                Middlewares allow intercepting requests before they reach the main logic of the API.
                                In this example, we use <code class="code-inline">@validate_token</code> to validate a
                                JWT token in the
                                request header.
                            </p>

                            <div class="code-editor mt-6 mb-8">
                                <div class="editor-header bg-gray-800 dark:bg-gray-900">
                                    <span class="editor-title text-gray-300 dark:text-gray-400">
                                        <i class="fas fa-shield-alt mr-2"></i>Middleware Validation
                                    </span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content bg-gray-900 dark:bg-black">
                                    <pre><code class="language-python">
@router.route(path='/api/token', methods=['GET','POST'])
@validate_token  # Middleware to validate JWT token.
async def api_token(request: Request):
    return JSONResponse({'api': True})
            </code></pre>
                                </div>
                            </div>

                            <h3
                                class="text-2xl font-semibold text-gray-800 dark:text-white mt-10 mb-4 flex items-center">
                                <i class="fas fa-check-circle mr-2 text-lila-400"></i> Data Validation with Pydantic
                            </h3>

                            <p class="text-gray-600 dark:text-gray-300 mb-6">
                                Pydantic allows defining data models that automatically validate user input.
                                Additionally, specifying a model in the route generates automatic documentation in
                                <code class="code-inline">/docs</code>.
                            </p>

                            <div class="code-editor mt-6 mb-8">
                                <div class="editor-header bg-gray-800 dark:bg-gray-900">
                                    <span class="editor-title text-gray-300 dark:text-gray-400">
                                        <i class="fas fa-check-square mr-2"></i>Validation with Pydantic
                                    </span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content bg-gray-900 dark:bg-black">
                                    <pre><code class="language-python">
from pydantic import EmailStr, BaseModel 

class ExampleModel(BaseModel):
    email: EmailStr  # Ensures a valid email.
    password: str  # String for password.

@router.route(path='/api/example', methods=['POST'], model=ExampleModel)
async def login(request: Request):
    body = await request.json()
    try:
        input = ExampleModel(**body)  # Automatic validation with Pydantic.
    except Exception as e:
        return JSONResponse({"success": False, "msg": f"Invalid JSON Body: {e}"}, status_code=400) 
    return JSONResponse({"email": input.email, "password": input.password})
            </code></pre>
                                </div>
                            </div>

                            <h3
                                class="text-2xl font-semibold text-gray-800 dark:text-white mt-10 mb-4 flex items-center">
                                <i class="fas fa-book mr-2 text-lila-400"></i> Automatic Documentation Generation
                            </h3>

                            <p class="text-gray-600 dark:text-gray-300 mb-6">
                                Thanks to the integration with Pydantic, the API documentation is generated
                                automatically
                                and is accessible from <code class="code-inline">/docs</code>. You can also generate an
                                OpenAPI JSON file for external tools.
                            </p>

                            <div class="code-editor mt-6 mb-8">
                                <div class="editor-header bg-gray-800 dark:bg-gray-900">
                                    <span class="editor-title text-gray-300 dark:text-gray-400">
                                        <i class="fas fa-file-alt mr-2"></i>Documentation Generation
                                    </span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content bg-gray-900 dark:bg-black">
                                    <pre><code class="language-python">
router.swagger_ui()  # Enables Swagger UI for API documentation.
router.openapi_json()  # Generates OpenAPI JSON for external tools.
            </code></pre>
                                </div>
                            </div>

                            <h3
                                class="text-2xl font-semibold text-gray-800 dark:text-white mt-10 mb-4 flex items-center">
                                <i class="fas fa-file-import mr-2 text-lila-400"></i> Importing Routes in main.py
                            </h3>

                            <p class="text-gray-600 dark:text-gray-300 mb-6">
                                To use the routes defined in the router, you need to obtain them with
                                <code class="code-inline">router.get_routes()</code> and import them into <code
                                    class="code-inline">main.py</code>.
                            </p>

                            <div class="code-editor mt-6 mb-8">
                                <div class="editor-header bg-gray-800 dark:bg-gray-900">
                                    <span class="editor-title text-gray-300 dark:text-gray-400">
                                        <i class="fas fa-sign-in-alt mr-2"></i>Route Import
                                    </span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content bg-gray-900 dark:bg-black">
                                    <pre><code class="language-python">
routes = router.get_routes()  # Retrieves all defined app.routes.
            </code></pre>
                                </div>
                            </div>
                        </article>

                        <hr />
                        <article id="static-eng" class="space-y-6 md:space-y-8 py-8">
                            <div class="space-y-4">
                                <h1 class="text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100">
                                    Static Files
                                </h1>
                                <p class="text-lg text-gray-700 dark:text-gray-300">
                                    To load static files (JS, CSS, etc.), you can use the
                                    <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">mount()</code>
                                    method.
                                </p>
                                <p class="text-gray-700 dark:text-gray-300">
                                    The default parameters are:
                                    <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">path: str = '/public', directory: str = 'static', name: str = 'static'</code>
                                </p>
                            </div>

                            <div class="bg-gray-800 rounded-xl shadow-lg overflow-hidden border border-gray-700">
                                <div class="flex items-center gap-2 px-4 py-3 bg-gray-900 border-b border-gray-700">
                                    <div class="size-3 rounded-full bg-red-500"></div>
                                    <div class="size-3 rounded-full bg-yellow-400"></div>
                                    <div class="size-3 rounded-full bg-green-500"></div>
                                    <span class="ml-auto text-sm font-semibold text-gray-300">Static</span>
                                </div>
                                <div class="overflow-x-auto p-4 md:p-6 text-sm text-gray-200">
                                    <pre class="language-python">
<code class="whitespace-pre-wrap">
from lila.core.routing import Router
# Creating an instance of the Router
router = Router()
# Mounting the static files in the 'static' folder, with URL '/public' by default
router.mount()
</code>
</pre>
                                </div>
                            </div>
                        </article>

                        <hr class="my-10 border-gray-300 dark:border-gray-700" />

                        <article id="templates-eng" class="space-y-6 md:space-y-8 py-8">
                            <h1 class="text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100">
                                Template Rendering (Jinja2 + Lila JS)
                            </h1>
                            <p class="text-lg text-gray-700 dark:text-gray-300">
                                In Lila, you can use
                                <strong class="font-semibold text-gray-900 dark:text-gray-100">Jinja2</strong> to render
                                HTML with server data or
                                <strong class="font-semibold text-gray-900 dark:text-gray-100">Lila JS</strong> to
                                create reactive components. You can even combine both approaches.
                            </p>

                            <section class="space-y-6">
                                <h2 class="text-2xl font-semibold text-gray-900 dark:text-gray-100">Rendering with
                                    Jinja2</h2>
                                <p class="text-gray-700 dark:text-gray-300">
                                    Jinja2 is the default for rendering HTML templates. You can pass data like
                                    translations, values, lists, or dictionaries using the
                                    <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">context</code>
                                    parameter.
                                </p>

                                <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200">Basic Usage in Routes
                                </h3>
                                <div class="bg-gray-800 rounded-xl shadow-lg overflow-hidden border border-gray-700">
                                    <div class="overflow-x-auto p-4 md:p-6 text-sm text-gray-200">
                                        <pre class="language-python">
<code class="whitespace-pre-wrap">
@router.route(path="/", methods=["GET"])
async def home(request: Request):
  context = {}
  
  response = render(
    request=request,
    template="index",
    context=context
  )
  # Renders the 'index' template
  
  return response
</code>
</pre>
                                    </div>
                                </div>

                                <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200">
                                    The
                                    <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">render</code>
                                    Function
                                </h3>
                                <p class="text-gray-700 dark:text-gray-300">
                                    The
                                    <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">render</code>
                                    function is located in
                                    <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">lila.core.templates</code>:
                                </p>

                                <div class="bg-gray-800 rounded-xl shadow-lg overflow-hidden border border-gray-700">
                                    <div class="overflow-x-auto p-4 md:p-6 text-sm text-gray-200">
                                        <pre class="language-python">
<code class="whitespace-pre-wrap">
def render(
  request: Request,
  template: str,
  context: dict = {},
  theme_: bool = True,
  translate: bool = True,
  files_translate: list = [],
  lang_default: str = None,
  templates=templates
)
</code>
</pre>
                                    </div>
                                </div>

                                <h3 class="text-2xl font-semibold text-gray-900 dark:text-gray-100">Parameter
                                    Description</h3>
                                <ul class="space-y-2 p-6 rounded-lg bg-gray-50 dark:bg-gray-800">
                                    <li class="flex flex-col md:flex-row md:items-start">
                                        <strong
                                            class="font-semibold text-gray-900 dark:text-gray-100 min-w-40">request:</strong>
                                        <p class="text-gray-700 dark:text-gray-300 mt-1 md:mt-0">
                                            The
                                            <code
                                                class="bg-gray-100 dark:bg-gray-900 text-gray-700 dark:text-gray-300 px-1.5 py-0.5 rounded-md font-mono text-xs">Request</code>
                                            object.
                                        </p>
                                    </li>
                                    <li class="flex flex-col md:flex-row md:items-start">
                                        <strong class="font-semibold text-gray-900 dark:text-gray-100 min-w-40">template
                                            (str):</strong>
                                        <p class="text-gray-700 dark:text-gray-300 mt-1 md:mt-0">
                                            Template name (without the
                                            <code
                                                class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">.html</code>
                                            extension).
                                        </p>
                                    </li>
                                    <li class="flex flex-col md:flex-row md:items-start">
                                        <strong class="font-semibold text-gray-900 dark:text-gray-100 min-w-40">context
                                            (dict):</strong>
                                        <p class="text-gray-700 dark:text-gray-300 mt-1 md:mt-0">
                                            Data to pass to the template (dictionaries, lists, etc.).
                                        </p>
                                    </li>
                                    <li class="flex flex-col md:flex-row md:items-start">
                                        <strong class="font-semibold text-gray-900 dark:text-gray-100 min-w-40">theme_
                                            (bool, default=True):</strong>
                                        <p class="text-gray-700 dark:text-gray-300 mt-1 md:mt-0">Applies the default
                                            visual theme.</p>
                                    </li>
                                    <li class="flex flex-col md:flex-row md:items-start">
                                        <strong
                                            class="font-semibold text-gray-900 dark:text-gray-100 min-w-40">translate
                                            (bool, default=True):</strong>
                                        <p class="text-gray-700 dark:text-gray-300 mt-1 md:mt-0">Enables the built-in
                                            translation system.</p>
                                    </li>
                                    <li class="flex flex-col md:flex-row md:items-start">
                                        <strong
                                            class="font-semibold text-gray-900 dark:text-gray-100 min-w-40">files_translate
                                            (list):</strong>
                                        <p class="text-gray-700 dark:text-gray-300 mt-1 md:mt-0">List of additional
                                            translation files.</p>
                                    </li>
                                    <li class="flex flex-col md:flex-row md:items-start">
                                        <strong
                                            class="font-semibold text-gray-900 dark:text-gray-100 min-w-40">lang_default
                                            (str):</strong>
                                        <p class="text-gray-700 dark:text-gray-300 mt-1 md:mt-0">
                                            Forced default language (ideal for SEO in routes like
                                            <code
                                                class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">/es</code>,
                                            <code
                                                class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">/en</code>,
                                            etc.).
                                        </p>
                                    </li>
                                    <li class="flex flex-col md:flex-row md:items-start">
                                        <strong
                                            class="font-semibold text-gray-900 dark:text-gray-100 min-w-40">templates:</strong>
                                        <p class="text-gray-700 dark:text-gray-300 mt-1 md:mt-0">Base template
                                            collection used by Lila.</p>
                                    </li>
                                </ul>
                                <p class="text-sm text-gray-600 dark:text-gray-400">
                                    In Lila, you can also use
                                    <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">translate</code>
                                    to pass translations to Jinja2, and parameters like
                                    <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">title</code>
                                    or
                                    <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">version</code>
                                    (ideal for structuring APIs: "v1", "v2").
                                </p>
                            </section>

                            <section class="space-y-6">
                                <h2 class="text-2xl font-semibold text-gray-900 dark:text-gray-100">Lila JS: Reactive
                                    System</h2>
                                <p class="text-gray-700 dark:text-gray-300">
                                    Lila JS is a minimalist library for building reactive interfaces with plain
                                    JavaScript.
                                </p>
                                <p>
                                    <a href="https://seip25.github.io/Lila_js/" target="_blank"
                                        class="text-blue-500 hover:text-blue-600 font-medium">Lila JS Documentation
                                        →</a>
                                </p>

                                <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200">Key Concepts</h3>
                                <div class="grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 gap-6">
                                    <div class="bg-gray-100 dark:bg-gray-800 p-6 rounded-lg space-y-3">
                                        <h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100">Reactive
                                            State</h4>
                                        <p class="text-sm text-gray-700 dark:text-gray-300">
                                            The state is a special object that automatically updates the interface when
                                            its value changes.
                                        </p>
                                        <div class="bg-gray-800 rounded-lg p-3 text-sm text-gray-200">
                                            <pre class="language-javascript"><code class="whitespace-pre-wrap">
state: () => ({
  email: '',
  password: ''
})
</code></pre>
                                        </div>
                                    </div>

                                    <div class="bg-gray-100 dark:bg-gray-800 p-6 rounded-lg space-y-3">
                                        <h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100">Two-Way Data
                                            Binding</h4>
                                        <p class="text-sm text-gray-700 dark:text-gray-300">
                                            Link inputs and state using the
                                            <code
                                                class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">data-model</code>
                                            attribute.
                                        </p>
                                        <div class="bg-gray-800 rounded-lg p-3 text-sm text-gray-200">
                                            <pre class="language-html"><code class="whitespace-pre-wrap">
&lt;input data-model="email"&gt;
&lt;span data-bind="email"&gt;&lt;/span&gt;
</code></pre>
                                        </div>
                                    </div>

                                    <div class="bg-gray-100 dark:bg-gray-800 p-6 rounded-lg space-y-3">
                                        <h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100">Components
                                        </h4>
                                        <p class="text-sm text-gray-700 dark:text-gray-300">
                                            Reusable units with their own state, template, and actions.
                                        </p>
                                        <div class="bg-gray-800 rounded-lg p-3 text-sm text-gray-200">
                                            <pre class="language-javascript"><code class="whitespace-pre-wrap">
App.createComponent('login-component', {
  template: 'login-template',
  state: () => ({...}),
  actions: {...}
});
</code></pre>
                                        </div>
                                    </div>

                                    <div class="bg-gray-100 dark:bg-gray-800 p-6 rounded-lg space-y-3">
                                        <h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100">Routing</h4>
                                        <p class="text-sm text-gray-700 dark:text-gray-300">Client-side navigation
                                            between components.</p>
                                        <div class="bg-gray-800 rounded-lg p-3 text-sm text-gray-200">
                                            <pre class="language-javascript"><code class="whitespace-pre-wrap">
App.defineRoute('/login', '&lt;login-component&gt;&lt;/login-component&gt;');
App.mount('app'); // id of the mounting div
</code></pre>
                                        </div>
                                    </div>
                                </div>
                            </section>

                            <section class="rounded-xl shadow-lg border border-gray-200 dark:border-gray-700">
                                <div class="p-8">
                                    <h2 class="text-3xl font-bold text-center text-gray-900 dark:text-gray-100 mb-8">
                                        Advantages of This Approach</h2>
                                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                                        <div
                                            class="advantage bg-white dark:bg-gray-900 p-6 rounded-lg border border-gray-200 dark:border-gray-700 transition-all duration-300 hover:shadow-xl hover:scale-[1.02]">
                                            <h3
                                                class="flex items-center gap-3 text-xl font-semibold text-gray-800 dark:text-gray-200 mb-2">
                                                <span
                                                    class="p-2 rounded-full bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300">
                                                    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5"
                                                        viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                        <path d="M12 2L19 22H5L12 2Z"></path>
                                                        <path d="M12 2V22"></path>
                                                        <path d="M2 15L22 15"></path>
                                                    </svg>
                                                </span>
                                                Performance
                                            </h3>
                                            <p class="text-gray-600 dark:text-gray-400">
                                                Combines Jinja2's fast initial rendering with the smoothness of a Single
                                                Page Application (SPA).
                                            </p>
                                        </div>

                                        <div
                                            class="advantage bg-white dark:bg-gray-900 p-6 rounded-lg border border-gray-200 dark:border-gray-700 transition-all duration-300 hover:shadow-xl hover:scale-[1.02]">
                                            <h3
                                                class="flex items-center gap-3 text-xl font-semibold text-gray-800 dark:text-gray-200 mb-2">
                                                <span
                                                    class="p-2 rounded-full bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-300">
                                                    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5"
                                                        viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                        <path d="M16 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                                        <circle cx="12" cy="7" r="4"></circle>
                                                        <path d="M17 11L19 13L23 9"></path>
                                                    </svg>
                                                </span>
                                                SEO Optimized
                                            </h3>
                                            <p class="text-gray-600 dark:text-gray-400">Critical content is rendered
                                                server-side for search engines, improving discoverability.</p>
                                        </div>

                                        <div
                                            class="advantage bg-white dark:bg-gray-900 p-6 rounded-lg border border-gray-200 dark:border-gray-700 transition-all duration-300 hover:shadow-xl hover:scale-[1.02]">
                                            <h3
                                                class="flex items-center gap-3 text-xl font-semibold text-gray-800 dark:text-gray-200 mb-2">
                                                <span
                                                    class="p-2 rounded-full bg-purple-100 dark:bg-purple-900 text-purple-600 dark:text-purple-300">
                                                    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5"
                                                        viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                        <path
                                                            d="M15 4h1a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1v-14a1 1 0 0 1 1-1z">
                                                        </path>
                                                        <path
                                                            d="M9 4h1a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1v-14a1 1 0 0 1 1-1z">
                                                        </path>
                                                        <path
                                                            d="M3 4h1a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1v-14a1 1 0 0 1 1-1z">
                                                        </path>
                                                        <path
                                                            d="M21 4h-1a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1v-14a1 1 0 0 0-1-1z">
                                                        </path>
                                                    </svg>
                                                </span>
                                                Progressive
                                            </h3>
                                            <p class="text-gray-600 dark:text-gray-400">
                                                Start with Jinja2 for static content and add interactivity with Lila JS
                                                only where it's needed.
                                            </p>
                                        </div>

                                        <div
                                            class="advantage bg-white dark:bg-gray-900 p-6 rounded-lg border border-gray-200 dark:border-gray-700 transition-all duration-300 hover:shadow-xl hover:scale-[1.02]">
                                            <h3
                                                class="flex items-center gap-3 text-xl font-semibold text-gray-800 dark:text-gray-200 mb-2">
                                                <span
                                                    class="p-2 rounded-full bg-yellow-100 dark:bg-yellow-900 text-yellow-600 dark:text-yellow-300">
                                                    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5"
                                                        viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                        <circle cx="12" cy="12" r="10"></circle>
                                                        <line x1="12" y1="16" x2="12" y2="12"></line>
                                                        <line x1="12" y1="8" x2="12.01" y2="8"></line>
                                                    </svg>
                                                </span>
                                                Simple
                                            </h3>
                                            <p class="text-gray-600 dark:text-gray-400">No complex build configurations
                                                or heavy dependencies required.</p>
                                        </div>
                                    </div>
                                </div>
                            </section>
                        </article>

                        <hr class="my-10 border-gray-300 dark:border-gray-700" />

                        <article id="session-eng" class="space-y-6 md:space-y-8 py-8">
                            <h1 class="text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100">Session
                                Management</h1>
                            <p class="text-lg text-gray-700 dark:text-gray-300">
                                Lila provides a simple yet powerful session management system built on top of
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">itsdangerous</code>
                                for cryptographically signed session data. This ensures that session data cannot be
                                tampered with on the client side.
                            </p>
                            <p class="text-gray-700 dark:text-gray-300">
                                The
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">Session</code>
                                class provides a set of static methods to handle session data.
                            </p>

                            <h2 class="text-2xl font-semibold text-gray-900 dark:text-gray-100">Setting Session Data
                            </h2>
                            <p class="text-gray-700 dark:text-gray-300">
                                The
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">setSession</code>
                                method is used to store session data in a cookie. It can handle strings, dictionaries,
                                and lists, which are automatically serialized to JSON.
                            </p>
                            <div class="bg-gray-800 rounded-xl shadow-lg overflow-hidden border border-gray-700">
                                <div class="flex items-center gap-2 px-4 py-3 bg-gray-900 border-b border-gray-700">
                                    <div class="size-3 rounded-full bg-red-500"></div>
                                    <div class="size-3 rounded-full bg-yellow-400"></div>
                                    <div class="size-3 rounded-full bg-green-500"></div>
                                    <span class="ml-auto text-sm font-semibold text-gray-300">setSession example</span>
                                </div>
                                <div class="overflow-x-auto p-4 md:p-6 text-sm text-gray-200">
                                    <pre class="language-python">
<code class="whitespace-pre-wrap">
from lila.core.session import Session
from lila.core.responses import JSONResponse

@router.route("/set-session", methods=["GET"])
async def set_session_example(request: Request):
  response = JSONResponse({"message": "Session has been set"})
  session_data = {"user_id": 123, "username": "lila_user"}
  Session.setSession(new_val=session_data, response=response, name_cookie="user_session")
  return response
</code>
</pre>
                                </div>
                            </div>
                            <p class="text-gray-700 dark:text-gray-300">
                                The
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">setSession</code>
                                method accepts several parameters to customize the cookie, such as
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">secure</code>,
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">samesite</code>,
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">max_age</code>,
                                etc.
                            </p>

                            <h2 class="text-2xl font-semibold text-gray-900 dark:text-gray-100">Getting Session Data
                            </h2>
                            <p class="text-gray-700 dark:text-gray-300">
                                The
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">getSession</code>
                                method retrieves the raw, signed session data from a cookie. To get the unsigned and
                                validated data, use
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">getSessionValue</code>
                                or
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">unsign</code>.
                            </p>

                            <h2 class="text-2xl font-semibold text-gray-900 dark:text-gray-100">Unsigning and Validating
                                Session Data</h2>
                            <p class="text-gray-700 dark:text-gray-300">
                                The
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">unsign</code>
                                and
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">getSessionValue</code>
                                methods get the session data in its original form after verifying the signature.
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">getSessionValue</code>
                                is recommended because it also gracefully handles expired signatures.
                            </p>
                            <div class="bg-gray-800 rounded-xl shadow-lg overflow-hidden border border-gray-700">
                                <div class="flex items-center gap-2 px-4 py-3 bg-gray-900 border-b border-gray-700">
                                    <div class="size-3 rounded-full bg-red-500"></div>
                                    <div class="size-3 rounded-full bg-yellow-400"></div>
                                    <div class="size-3 rounded-full bg-green-500"></div>
                                    <span class="ml-auto text-sm font-semibold text-gray-300">getSessionValue
                                        example</span>
                                </div>
                                <div class="overflow-x-auto p-4 md:p-6 text-sm text-gray-200">
                                    <pre class="language-python">
<code class="whitespace-pre-wrap">
from lila.core.session import Session

@router.route("/get-session", methods=["GET"])
async def get_session_example(request: Request):
  session_data = Session.getSessionValue(request=request, key="user_session")
  if session_data:
    return JSONResponse({"session_data": session_data})
  else:
    return JSONResponse({"message": "No session found or session is invalid/expired."}, status_code=401)
</code>
</pre>
                                </div>
                            </div>

                            <h2 class="text-2xl font-semibold text-gray-900 dark:text-gray-100">Deleting a Session</h2>
                            <p class="text-gray-700 dark:text-gray-300">
                                The
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">deleteSession</code>
                                method is used to delete a session cookie from the client's browser.
                            </p>
                            <div class="bg-gray-800 rounded-xl shadow-lg overflow-hidden border border-gray-700">
                                <div class="flex items-center gap-2 px-4 py-3 bg-gray-900 border-b border-gray-700">
                                    <div class="size-3 rounded-full bg-red-500"></div>
                                    <div class="size-3 rounded-full bg-yellow-400"></div>
                                    <div class="size-3 rounded-full bg-green-500"></div>
                                    <span class="ml-auto text-sm font-semibold text-gray-300">deleteSession
                                        example</span>
                                </div>
                                <div class="overflow-x-auto p-4 md:p-6 text-sm text-gray-200">
                                    <pre class="language-python">
<code class="whitespace-pre-wrap">
from lila.core.session import Session
from lila.core.responses import JSONResponse

@router.route("/logout", methods=["GET"])
async def logout(request: Request):
  response = JSONResponse({"message": "Logged out successfully"})
  Session.deleteSession(response=response, name_cookie="user_session")
  return response
</code>
</pre>
                                </div>
                            </div>

                            <h2 class="text-2xl font-semibold text-gray-900 dark:text-gray-100">Full Session Class
                                Reference</h2>
                            <p class="text-gray-700 dark:text-gray-300">
                                Here is the full code for the
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">Session</code>
                                class for your reference.
                            </p>
                            <div class="bg-gray-800 rounded-xl shadow-lg overflow-hidden border border-gray-700">
                                <div class="flex items-center gap-2 px-4 py-3 bg-gray-900 border-b border-gray-700">
                                    <div class="size-3 rounded-full bg-red-500"></div>
                                    <div class="size-3 rounded-full bg-yellow-400"></div>
                                    <div class="size-3 rounded-full bg-green-500"></div>
                                    <span class="ml-auto text-sm font-semibold text-gray-300">core/session.py</span>
                                </div>
                                <div class="overflow-x-auto p-4 md:p-6 text-sm text-gray-200">
                                    <pre class="language-python">
<code class="whitespace-pre-wrap">
import json
from app.config import SECRET_KEY
from itsdangerous import BadSignature, URLSafeTimedSerializer, SignatureExpired
from lila.core.request import Request
from typing import Any, Union, Optional, Dict, List
from lila.core.logger import Logger

serializer = URLSafeTimedSerializer(SECRET_KEY)

class Session:
  @staticmethod
  def setSession(
    new_val: str | dict | list,
    response,
    name_cookie: str = "session",
    secure: bool = True,
    samesite: str = "strict",
    max_age: int = 3600,
    domain: Optional[str] = None,
    http_only: bool = True,
    path: str = "/",
  ) -> bool:
    try:
      if isinstance(new_val, (dict, list)):
        new_val = json.dumps(new_val)
      else:
        new_val = str(new_val)

      signed_session = serializer.dumps(new_val)

      response.set_cookie(
        key=name_cookie,
        value=signed_session,
        max_age=max_age,
        expires=max_age,
        secure=secure,
        httponly=http_only,
        samesite=samesite,
        domain=domain,
        path=path,
      )
      return True
    except (TypeError, ValueError, Exception) as e:
      Logger.error(f"Error setting session: {str(e)}")
      print(f"Error session {str(e)}")
      return False

  @staticmethod
  def getSession(key: str, request: Request) -> Optional[str]:
    return request.cookies.get(key)

  @staticmethod
  def unsign(
    key: str, request: Request, max_age: Optional[int] = None
  ) -> Union[Dict, List, str, None]:
    session_data = request.cookies.get(key)
    if not session_data:
      return None

    try:
      unsigned_data = serializer.loads(session_data, max_age=max_age)
      try:
        return json.loads(unsigned_data)
      except json.JSONDecodeError:
        return unsigned_data

    except BadSignature:
      msg = f"Invalid session signature for cookie: {key}"
      print(msg)
      Logger.warning(msg)
      return None
    except Exception as e:
      msg = f"Error unsigning session: {str(e)}"
      print(msg)
      Logger.error(msg)
      return None

  @staticmethod
  def deleteSession(response, name_cookie: str) -> bool:
    try:
      response.delete_cookie(name_cookie)
      return True
    except Exception as e:
      msg = f"Error deleting session: {str(e)}"
      print(e)
      Logger.error(msg)
      return False

  @staticmethod
  def getSessionValue(
    request: Request, key: str = 'auth', max_age: Optional[int] = 3600
  ) -> Union[Dict, List, str, None]:
    session_data = request.cookies.get(key)
    if not session_data:
      return None

    try:
      unsigned_data = serializer.loads(session_data, max_age=max_age)
      try:
        return json.loads(unsigned_data)
      except json.JSONDecodeError:
        return unsigned_data

    except BadSignature:
      msg = f"Invalid session signature for cookie: {key}"
      print(msg)
      Logger.warning(msg)
      return None
    except SignatureExpired:
      msg = f"Session expired for cookie: {key}"
      print(msg)
      Logger.warning(msg)
      return None
    except Exception as e:
      msg = f"Error unsigning session: {str(e)}"
      print(msg)
      Logger.error(msg)
      return None
</code>
</pre>
                                </div>
                            </div>
                        </article>
                        <hr />

                        <article id="upload-eng" class="mt-8 mb-8  ">
                            <h1 class="text-2xl font-semibold">File Upload Helper</h1>
                            <p><strong>
                                    The <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">upload</code>
                                    helper provides a complete solution for handling file
                                    uploads in your application,
                                    including validation, security checks, and translation support.
                                </strong></p>

                            <p>This helper automatically handles:
                            <ul>
                                <li>HTTP method validation (POST only)</li>
                                <li>Content-Type validation (multipart/form-data)</li>
                                <li>File extension validation</li>
                                <li>File size limits</li>
                                <li>Empty file detection</li>
                                <li>Secure filename handling</li>
                                <li>Automatic directory creation</li>
                                <li>Translation support for error messages</li>
                            </ul>
                            </p>

                            <h2 class="text-xl">Parameters</h2>
                            <p>The <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">upload</code>
                                function accepts these parameters:</p>
                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">Parameters</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-python">
request: Request          # Starlette request object
name_file: str | list     # Field name for file upload (default: 'file')
UPLOAD_DIR: str           # Directory to save files (default: 'uploads')
ALLOWED_EXTENSIONS: set   # Allowed file extensions (default: {'txt', 'pdf', 'png', 'jpg', 'jpeg', 'gif'})
MAX_FILE_SIZE: int        # Maximum file size in bytes (default: 10MB)
            </code></pre>
                                </div>
                            </div>

                            <h2 class="text-xl">Usage Example</h2>
                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">Route Implementation</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-python">
from app.helpers.helpers import upload

@router.route("/upload", methods=["POST"])
async def uploadFile(request: Request):
    response = await upload(request=request, name_file="file")
    return response
                                    </code></pre>
                                </div>
                            </div>

                            <h2 class="text-xl">Frontend Implementation</h2>
                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">HTML + JavaScript</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-html">
&lt;form onsubmit="upload(event);"&gt;
    &lt;fieldset&gt;
        &lt;input type="file" name="file" required&gt;
    &lt;/fieldset&gt;
    &lt;button type="submit"&gt;
        &lt;i class="icon-check-circle"&gt;&lt;/i&gt;
        Upload Files
    &lt;/button&gt;
&lt;/form&gt;

&lt;script&gt;
    async function upload(event) {
        event.preventDefault();
        const formElement = event.target;
        const formData = new FormData(formElement);
        
        try {
            const response = await fetch('/upload', {
                method: 'POST',
                body: formData,
            });
            
            const result = await response.json();
            if (!response.ok) throw new Error(result.message);
            
            alert('File uploaded successfully!');
        } catch (error) {
            alert(error.message);
        }
    }
&lt;/script&gt;
                                    </code></pre>
                                </div>
                            </div>

                            <h2 class="text-xl">Response Format</h2>
                            <p>The helper returns a JSONResponse with this structure:</p>
                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">Success Response</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-json">
{
    "file": "/uploads/filename.ext",
    "success": true,
    "message": "File uploaded successfully"
}
                                    </code></pre>
                                </div>
                            </div>

                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">Error Response</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-json">
{
    "error": true,
    "success": false,
    "message": "Error message in user's language"
}
                                    </code></pre>
                                </div>
                            </div>
                        </article>
                        <hr />

                        <article id="markdown-eng" class="mt-8 mb-8  ">
                            <h1 class="text-2xl font-semibold">Markdown /HTML</h1>
                            <p>To render <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">markdown</code>
                                files, the
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">renderMarkdown</code>
                                function is used, which receives the following parameters:
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">request,file : str , base_path:str ='templates/markdown/',css_files : list = [],js_files:list=[],picocss : bool =False</code>
                            </p>
                            <p>
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">file</code>
                                is the name of the file, starting from the <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">base_path</code>
                                of
                                the
                                directory
                                located in <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">templates/markdown/</code>,
                                for example: <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">index.md</code>.
                                It will look for an <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">index.md</code>
                                file in the markdown directory inside the
                                templates
                                folder
                                (templates/markdown/index.md).
                            </p>
                            <p>
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">css_files</code>
                                and <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">js_files</code>
                                are lists of CSS and JS files that will
                                be
                                loaded in the
                                generated HTML file.
                            </p>
                            <p>
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">picocss</code>
                                is a boolean indicating whether the PicoCSS CSS file should be
                                loaded.
                            </p>
                            <p>
                                Below is an example of how <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">markdown</code>
                                files are rendered in
                                Lilac:
                            </p>
                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">Markdown</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre>
                     <code class="language-python">
from lila.core.templates import renderMarkdown

@router.route(path='/markdown', methods=['GET'])
async def home(request: Request):
    #Define a list of CSS files to include in the response
    css = ["/public/css/styles.css"]
    #Renders a markdown file with PicoCSS styling
    response = renderMarkdown(request=request, file='example', css_files=css, picocss=True)
    return response

                     </code>
                     </pre>
                                </div>
                            </div>

                        </article>
                        <hr />

                        <article id="locales-eng" class="mt-8 mb-8">
                            <h1 class="text-2xl font-semibold">Internationalization (Translations)</h1>
                            <p>Translations are used to internationalize an application and display content in different
                                languages. In Lila, translations are stored in the <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">app/locales</code>
                                directory
                                and
                                can be dynamically loaded into the application.</p>

                            <h2 class="text-xl">Forcing Default Language in Routes</h2>
                            <p>The <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">render</code>
                                method accepts a <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">lang_default</code>
                                parameter to force a
                                specific language for the rendered template:</p>

                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">app.routes.py</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-python">
# Force Spanish language
@router.route(path="/es", methods=["GET"])
async def home(request: Request):
    response = render(
        request=request,
        template="index",
        lang_default="es"  # Forces Spanish translations
    )
    return response

# Force English language
@router.route(path="/en", methods=["GET"])
async def home(request: Request):
    response = render(
        request=request,
        template="index",
        lang_default="en"  # Forces English translations
    )
    return response
                                    </code></pre>
                                </div>
                            </div>

                            <h2 class="text-xl">Translation Files</h2>
                            <p>To load a locale file, use the <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">translate</code>
                                function from
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">app.helpers.helpers</code>.
                                You can access translations using:
                            </p>
                            <ul>
                                <li><code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">translate</code>
                                    - returns a dictionary with all translations</li>
                                <li><code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">translate_</code>
                                    - returns a specific translation (returns original text if
                                    not found)</li>
                            </ul>

                            <p>Example translation file (<code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">app/locales/translations.json</code>):
                            </p>

                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">app/locales/translations.json</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-json">
{
    "Send": {
        "es": "Enviar",
        "en": "Send"
    },
    "Cancel": {
        "es": "Cancelar",
        "en": "Cancel"
    },
    "Accept": {
        "es": "Aceptar",
        "en": "Accept"
    },
    "Email": {
        "es": "Email",
        "en": "Email"
    },
    "Name": {
        "es": "Nombre",
        "en": "Name"
    },
    "Back": {
        "es": "Volver",
        "en": "Back"
    },
    "Hi": {
        "es": "Hola",
        "en": "Hi"
    }
}
                                    </code></pre>
                                </div>
                            </div>

                            <h2 class="text-xl">Using Translations</h2>
                            <p>Get a specific translation:</p>

                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">example.py</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-python">
from app.helpers.helpers import translate_

msg_error_login = translate_(
    key="Incorrect email or password", 
    request=request, 
    file_name="guest"
)
                                    </code></pre>
                                </div>
                            </div>

                            <p>Get all translations from a file:</p>

                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">example.py</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-python">
from app.helpers.helpers import translate

all_translations = translate(
    request=request, 
    file_name="guest"
)
                                    </code></pre>
                                </div>
                            </div>
                        </article>
                        <hr />


                        <article id="models-eng" class="mt-8 mb-8">
                            <h1 class="text-2xl font-semibold">Models (SQLAlchemy)</h1>
                            <h5 class="text-2xl font-semibold">Models are used to define the structure of data in
                                the application.
                            </h5>
                            <p>
                                <a href="https://www.sqlalchemy.org/" target="_blank">SQLAlchemy</a> as the default ORM
                                for
                                database management.
                                SQLAlchemy allows creating database models,
                                executing queries, and handling migrations
                                efficiently.
                            </p>

                            <h2 class="text-xl">Using Models </h2>
                            <p>
                                The `Base` class, imported from `lila.core.database`, serves as the foundation for
                                all models .
                                Models inherit from `Base` to define database tables with SQLAlchemy.
                            </p>

                            <h2 class="text-xl">Example: User Model</h2>
                            This example demonstrates how to create a `User` model using SQLAlchemy.
                            The model defines a `users` table with columns such as `id`, `name`, `email`, `password`,
                            `token`,
                            `active`, and `created_at`.
                            </h5>
                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">app/models/user.py</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre>

        <code class="language-python">
from sqlalchemy import Table,Column,Integer,String,TIMESTAMP 
from lila.core.database import Base
from app.connections import connection 

class User(Base):
    __tablename__='users'
    id = Column(Integer, primary_key=True,autoincrement=True)
    name=Column( String(length=50), nullable=False)
    email=Column( String(length=50), unique=True)
    password=Column(String(length=150), nullable=False)
    token=Column(String(length=150), nullable=False)
    active=Column( Integer, nullable=False,default=1)
    created_at=Column( TIMESTAMP)

#Example of how to use SQLAlchemy to make queries to the database
    def get_all(select: str = "id,email,name", limit: int = 1000) -> list:
        query = f"SELECT {select}  FROM users WHERE active =1  LIMIT {limit}"
        result = connection.query(query=query,return_rows=True)#Return rows 
        return result 

#Example of how to use SQLAlchemy to make queries to the database
    def get_by_id(id: int, select="id,email,name") -> dict:
        query = f"SELECT {select}  FROM users WHERE id = :id AND active = 1 LIMIT 1"
        params = {"id": id}
        row = connection.query(query=query, params=params,return_row=True)#Retrurn row
        return row
    
    #Example using ORM abstraction in SQLAlchemy
    @classmethod
    def get_all_orm(cls, db: Session, limit: int = 1000):
        result = db.query(cls).filter(cls.active == 1).limit(limit).all()
        return result
    
    
#Example of how to use the class to make queries to the database
users = User.get_all()
user = User.get_by_id(1)
                    </code>
                    </pre>
                                </div>
                            </div>
                            <br />
                            <p>
                                For details on SQLAlchemy, visit the official documentation:
                                <a href="https://www.sqlalchemy.org/" target="_blank">SQLAlchemy Documentation</a>.
                            </p>

                        </article>
                        <hr />

                        <article id="middlewares-eng" class="mt-8 mb-8">
                            <h1 class="text-2xl font-semibold">Middlewares</h1>
                            <h5 class="text-2xl font-semibold">
                                Middleware functions are used to intercept requests before they reach the main logic of
                                the application.
                                In Lila, middlewares are defined in the <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">app/middlewares</code>
                                directory (can be
                                modified to any file and/or directory).
                                Middlewares can be used for tasks such as authentication, logging, and error handling.
                            </h5>
                            <p>
                                By default, Lila comes with 3 middlewares to start any application. Middlewares can be
                                used with decorators <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">@my_middleware</code>.
                            </p>
                            <p>
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">login_required</code>,
                                to validate that you have a signed session, for the 'auth'
                                key that is passed as a parameter to be able to modify it as you wish.
                                If this session is not found, it redirects to the URL that is passed as a parameter, by
                                default, it is <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">"/login"</code>.
                                Otherwise, it will continue its course executing the route or function.
                            </p>
                            <p>
                                Then we have <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">session_active</code>,
                                which is used to verify if you have an active
                                session.
                                It will redirect to the URL that is received as a parameter, by default, it is
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">"/dashboard"</code>.
                            </p>
                            <p>
                                The third is <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">validate_token</code>,
                                which is used to validate a JWT token thanks
                                to the <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">get_token</code>
                                helpers imported in
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">from app.helpers.helpers import get_token</code>.
                            </p>
                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">app/middlewares/middlewares.py</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre>

            <code class="language-python">
from lila.core.session import Session
from lila.core.responses import RedirectResponse,JSONResponse
from lila.core.request import Request
from functools import wraps 
from app.helpers.helpers import get_token

def login_required(func,key:str='auth',url_return='/login'):
    @wraps(func)
    async def wrapper(request, *args, **kwargs):
        session_data= Session.unsign(key=key,request=request)
        if not session_data:
            return RedirectResponse(url=url_return)
        return await func(request,*args,**kwargs)
    return wrapper

def session_active(func,key:str='auth',url_return:str ='/dashboard'):
    @wraps(func)
    async def wrapper(request,*args,**kwargs):
        session_data= Session.unsign(key=key,request=request)
        if session_data:
            return RedirectResponse(url=url_return)
        return await func(request,*args,**kwargs)
    return wrapper

def validate_token(func):
    @wraps(func)
    async def wrapper(request: Request, *args, **kwargs):
        await check_token(request=request)
        return await func(request, *args, **kwargs)
       
    return wrapper


async def check_token(request:Request):
    token = request.headers.get('Authorization')
    if not token:
        return JSONResponse({'session':False,'message': 'Invalid token'},status_code=401)
    
    token = get_token(token=token)
    if isinstance(token,JSONResponse):
        return token 
                
            </code>
            </pre>
                                </div>
                            </div>

                            <br />
                            <h5 class="text-2xl font-semibold">
                                Here we give you several examples of how to use all 3, with the decorators.
                            </h5>

                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">Middlewares in routes</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">

                                    <pre>
                        <code class="language-python">
#Middleware to validate the JWT Token. 
@router.route(path='/api/token', methods=['GET','POST'])
@validate_token #Middleware
async def api_token(request: Request):
    """Api Token function"""
    print(get_user_by_id_and_token(request=request))
    return JSONResponse({'api': True}) 

#Middleware to validate session active
@router.route(path='/dashboard', methods=['GET'])  
@login_required #Middleware
async def dashboard(request: Request):  
    response = render(request=request, template='dashboard', files_translate=['authenticated']) 
    return response 


#Middleware validate if user get session active (if user get session redirect '/dashboard')
@router.route(path='/login', methods=['GET'])  
@session_active  #Middleware
async def login(request: Request):  
    response = render(request=request, template='auth/login', files_translate=['guest'])  
    return response 


                        </code>
                    </pre>
                                </div>
                            </div>

                            <h2 class="text-xl">Security Middleware</h2>
                            <p>
                                Lila Framework includes a built-in <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">ErrorHandlerMiddleware</code>
                                that not only
                                handles unhandled exceptions but also provides robust security checks to protect your
                                application from malicious requests. This middleware is designed to block suspicious
                                IPs, URLs, and sensitive paths, ensuring that your application remains secure.
                            </p>
                            <h3>Features</h3>
                            <ul>
                                <li>
                                    <strong>IP Blocking</strong>:
                                    Blocks IP addresses that have been flagged for malicious activity. IPs are blocked
                                    for 6 hours by default.
                                </li>
                                <li>
                                    <strong>URL Blocking</strong>:
                                    Blocks specific URLs that are known to be malicious or suspicious.
                                </li>
                                <li>
                                    <strong>Sensitive Paths Blocking</strong>:
                                    Blocks access to sensitive paths such as <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">/etc/passwd</code>,
                                    <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">.env</code>,
                                    and others.
                                </li>
                                <li>
                                    <strong>Malicious Extensions Blocking</strong>:
                                    Blocks URLs containing malicious file extensions like <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">.php</code>,
                                    <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">.asp</code>,
                                    <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">.jsp</code>,
                                    and <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">.aspx</code>.
                                </li>
                                <li>
                                    <strong>HTTP Detection</strong>:
                                    Blocks requests containing <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">"http"</code>
                                    in query parameters or body content.
                                </li>
                            </ul>
                            <h3>Configuration</h3>
                            <p>
                                The middleware uses three JSON files located in the <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">app/security</code>
                                directory:
                            </p>
                            <ul>
                                <li><code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">blocked_ips.json</code>:
                                    Stores blocked IPs with their expiration time.</li>
                                <li><code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">blocked_urls.json</code>:
                                    Stores blocked URLs with their expiration time.</li>
                                <li><code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">sensitive_paths.json</code>:
                                    Stores a list of sensitive paths to block.</li>
                            </ul>
                            <p>
                                If these files do not exist, they are automatically created and initialized with default
                                values:
                            </p>
                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">security/sensitive_paths.json</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-json">
[
    "/etc/passwd",
    ".env",
    "wp-content",
    "docker/.env",
    "owa/auth/logon.aspx",
    "containers/json",
    "models",
    "autodiscover/autodiscover.json",
    "heapdump",
    "actuator/heapdump",
    "cgi-bin/vitogate.cgi",
    "CFIDE/wizards/common/utils.cfc",
    "var/www/html/.env",
    "home/user/.muttrc",
    "usr/local/spool/mail/root",
    "etc/postfix/master.cf"
]
                                    </code></pre>
                                </div>
                            </div>
                            <h3>Usage</h3>
                            <p>
                                The <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">ErrorHandlerMiddleware</code>
                                is automatically applied to all requests. You
                                can customize its behavior by modifying the JSON files in the <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">security</code>
                                directory.
                            </p>
                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">core/middleware.py</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-python">
from starlette.middleware.base import BaseHTTPMiddleware
from lila.core.responses import JSONResponse, HTMLResponse
from lila.core.request import Request
from lila.core.logger import Logger
from datetime import datetime, timedelta
import json
import os

def load_blocked_data(file_path, default_value):
try:
if not os.path.exists(file_path):
    with open(file_path, "w") as file:
        json.dump(default_value, file, indent=4)
    return default_value

with open(file_path, "r") as file:
    content = file.read().strip()
    if not content:
        with open(file_path, "w") as file:
            json.dump(default_value, file, indent=4)
        return default_value

    try:
        return json.loads(content)
    except json.JSONDecodeError:
        with open(file_path, "w") as file:
            json.dump(default_value, file, indent=4)
        return default_value

except Exception as e:
Logger.error(f"Error loading {file_path}: {str(e)}")
return default_value

def save_blocked_data(file_path, data):
try:
with open(file_path, "w") as file:
    json.dump(data, file, indent=4)
except Exception as e:
Logger.error(f"Error saving {file_path}: {str(e)}")

async def is_blocked(blocked_data, key, request: Request):
if key in blocked_data:
expiration_time = datetime.fromisoformat(blocked_data[key]["expiration_time"])
if datetime.now() < expiration_time:
    req = await Logger.request(request=request)
    Logger.warning(f"Blocked: {key} \n {req}")
    return True
return False

class ErrorHandlerMiddleware(BaseHTTPMiddleware):
def __init__(
self,
app,
blocked_ips_file="security/blocked_ips.json",
blocked_urls_file="security/blocked_urls.json",
sensitive_paths_file="security/sensitive_paths.json",
):
super().__init__(app)
self.blocked_ips_file = blocked_ips_file
self.blocked_urls_file = blocked_urls_file
self.sensitive_paths_file = sensitive_paths_file

self.blocked_ips = load_blocked_data(blocked_ips_file, default_value={})
self.blocked_urls = load_blocked_data(blocked_urls_file, default_value={})
self.sensitive_paths = load_blocked_data(sensitive_paths_file, default_value=[])

async def dispatch(self, request, call_next):
try:
    client_ip = request.client.host
    url_path = request.url.path
    query_params = str(request.query_params)
    body = await request.body()

    if await is_blocked(self.blocked_ips, client_ip, request=request):
        return HTMLResponse(
            content="<h1 class="text-2xl font-semibold">Access Denied</h1><p>Your IP has been temporarily blocked.</p>",
            status_code=403,
        )

    if await is_blocked(self.blocked_urls, url_path, request=request):
        return HTMLResponse(
            content="<h1 class="text-2xl font-semibold">Access Denied</h1><p>This URL has been temporarily blocked.</p>",
            status_code=403,
        )

    malicious_extensions = [".php", ".asp", ".jsp", ".aspx"]
    if any(ext in url_path for ext in malicious_extensions):
        self.blocked_ips[client_ip] = {
            "expiration_time": (datetime.now() + timedelta(hours=6)).isoformat()
        }
        save_blocked_data(self.blocked_ips_file, self.blocked_ips)
        return HTMLResponse(
            content="<h1 class="text-2xl font-semibold">Access Denied</h1><p>Malicious URL detected.</p>",
            status_code=403,
        )

    if "http" in query_params or "http" in str(body):
        self.blocked_ips[client_ip] = {
            "expiration_time": (datetime.now() + timedelta(hours=6)).isoformat()
        }
        save_blocked_data(self.blocked_ips_file, self.blocked_ips)
        return HTMLResponse(
            content="<h1 class="text-2xl font-semibold">Access Denied</h1><p>Malicious query parameters detected.</p>",
            status_code=403,
        )

    if any(path in url_path or path in str(body) for path in self.sensitive_paths):
        self.blocked_ips[client_ip] = {
            "expiration_time": (datetime.now() + timedelta(hours=6)).isoformat()
        }
        save_blocked_data(self.blocked_ips_file, self.blocked_ips)
        return HTMLResponse(
            content="<h1 class="text-2xl font-semibold">Access Denied</h1><p>Sensitive path detected.</p>",
            status_code=403,
        )

    Logger.info(await Logger.request(request=request))
    response = await call_next(request)
    return response

except Exception as e:
    Logger.error(f"Unhandled Error: {str(e)}")
    return JSONResponse(
        {"error": "Internal Server Error", "success": False}, status_code=500
    )
                                    </code></pre>
                                </div>
                            </div>
                        </article>
                        <hr />


                        <article id="connections-eng" class="mt-8 mb-8">
                            <h1 class="text-2xl font-semibold">Connections to database</h1>
                            <p>
                                To use connections, you need to import the <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">Database</code>
                                class from
                                lila.core.database. With
                                that you can connect to your database, which can be SQLite, MySLQ, PostgreSQL or
                                whatever you
                                want to configure.
                            <p>Below we leave you the example of how to connect. The connection will close automatically
                                after
                                being used, so you can use it as in this example in the variable <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">connection</code>
                            </p>
                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">app/connections.py</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre>

            <code class="language-python">
from lila.core.database import Database

#SQLite

#Example connection to a sqlite database 
config = {"type":"sqlite","database":"test"} #test.db
connection = Database(config=config)
connection.connect()

#MySql

#Example connection to a mysql database 
config = {"type":"mysql","host":"127.0.0.1","user":"root","password":"password","database":"db_test","auto_commit":True}
connection = Database(config=config)
connection.connect()
mysql_connection = connection
                

                </code>
                </pre>
                                </div>
                            </div>

                        </article>
                        <hr />

                        <article id="migrations-eng" class="mt-8 mb-8">
                            <h1 class="text-2xl font-semibold">Migrations</h1>
                            <p>In Lila Framework, database migrations can be managed using SQLAlchemy and Lila's
                                configuration
                                to make migrations as easy as possible. The framework now supports command-line
                                migrations through Typer,
                                providing a more intuitive and flexible way to manage your database schema.
                            </p>
                            <br />

                            <h2 class="text-xl">Migration Methods</h2>
                            <p>There are two main ways to define database tables:</p>

                            <h3>1. Using Table</h3>
                            <p>This method manually defines the table structure using SQLAlchemy's Table object.</p>

                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">cli/migrations.py</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-python">
from sqlalchemy import Table, Column, Integer, String, TIMESTAMP
from app.connections import connection
import typer
import asyncio

app = typer.Typer()

# Example of creating migrations for 'users'
table_users = Table(
    'users', connection.metadata,
    Column('id', Integer, primary_key=True, autoincrement=True),
    Column('name', String(length=50), nullable=False),
    Column('email', String(length=50), unique=True),
    Column('password', String(length=150), nullable=False),
    Column('token', String(length=150), nullable=False),
    Column('active', Integer, default=1, nullable=False),
    Column('created_at', TIMESTAMP),
)

async def migrate_async(connection, refresh: bool = False) -> bool:
    try:
        if refresh:
            connection.metadata.drop_all(connection.engine)
        connection.prepare_migrate([table_users])  # for tables
        connection.migrate()
        print("Migrations completed")
        return True
    except RuntimeError as e:
        print(e)
        return False

@app.command()
def migrate(refresh: bool = False):
    """Run database migrations"""
    success = asyncio.run(migrate_async(connection, refresh))
    if not success:
        raise typer.Exit(code=1)

if __name__ == "__main__":
    app()
                                    </code></pre>
                                </div>
                            </div>

                            <h3>2. Using Models (Recommended)</h3>
                            <p>This approach defines database tables as Python classes that inherit from "Base".
                                This is the recommended method as it provides more structure and ORM capabilities.</p>

                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">app/models/user.py</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-python">
from lila.core.database import Base
from sqlalchemy import Column, Integer, String, TIMESTAMP

class User(Base):
    __tablename__ = 'users'
    id = Column(Integer, primary_key=True, autoincrement=True)
    name = Column(String(length=50), nullable=False)
    email = Column(String(length=50), unique=True)
    password = Column(String(length=150), nullable=False)
    token = Column(String(length=150), nullable=False)
    active = Column(Integer, nullable=False, default=1)
    created_at = Column(TIMESTAMP)
                                    </code></pre>
                                </div>
                            </div>

                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">cli/migrations.py (Models version)</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-python">
from app.connections import connection
from lila.core.database import Base  # Import Base for migrations in models
from app.models.user import User  # Import models for migrations
import typer
import asyncio

app = typer.Typer()

async def migrate_async(connection, refresh: bool = False) -> bool:
    try:
        if refresh:
            connection.metadata.drop_all(connection.engine)
        connection.migrate(use_base=True)  # for models
        print("Migrations completed")
        return True
    except RuntimeError as e:
        print(e)
        return False

@app.command()
def migrate(refresh: bool = False):
    """Run database migrations"""
    success = asyncio.run(migrate_async(connection, refresh))
    if not success:
        raise typer.Exit(code=1)

if __name__ == "__main__":
    app()
                                    </code></pre>
                                </div>
                            </div>

                            <h2 class="text-xl">Running Migrations</h2>
                            <p>To execute migrations, use the following command in your code:</p>

                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">Terminal Command</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-bash">
# Basic migration
python -m cli.migrations 

# Refresh all tables (drop and recreate)
python -m cli.migrations --refresh
                                    </code></pre>
                                </div>
                            </div>

                            <h3>Command Options</h3>
                            <ul>
                                <li><code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">migrate</code>:
                                    Run the database migrations</li>
                                <li><code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">--refresh</code>:
                                    Optional flag to drop and recreate all tables</li>
                            </ul>

                            <div class="note">
                                <p><strong>Note:</strong> When using Models, make sure to import all your model classes
                                    in the migrations file
                                    so SQLAlchemy can detect them for migrations.</p>
                            </div>
                        </article>
                        <hr />

                        <article id="react-seo">
                            <h1 class="text-2xl font-semibold">React Integration with Lila</h1>

                            <p>
                                Lila provides a seamless integration with React, allowing you to develop your frontend
                                with a
                                modified Vite + React setup while keeping strong SEO capabilities, caching, and HTML
                                hydration.
                                This setup ensures your React app can be prerendered and recognized by Google Bots and
                                AI.
                            </p>

                            <h5 class="text-2xl font-semibold">Starting a React Project in Lila</h5>
                            <p>
                                To create or run a React project inside Lila, execute the following command:
                            </p>

                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">CLI Command</span>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-bash">
# For Python 3 environments
python3 -m cli.react [--name PROJECT_NAME]

# Or if your default Python is python
python -m cli.react [--name PROJECT_NAME]
            </code></pre>
                                </div>
                            </div>

                            <p>
                                <strong>Parameters:</strong><br>
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">--name</code>:
                                Optional project name, default is <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">"react"</code>.
                            </p>

                            <h5 class="text-2xl font-semibold">Development CORS Configuration</h5>
                            <p>
                                When running React in development mode, Lila automatically edits <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">main.py</code>
                                to
                                add the
                                necessary CORS configuration. By default:
                            </p>

                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">main.py CORS snippet</span>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-python">
# English: for development react
# Español: para desarrollo react
cors = {
    "origin": ["http://localhost:5173"],
    "allow_credentials": True,
    "allow_methods": ["*"],
    "allow_headers": ["*"]
}
            </code></pre>
                                </div>
                            </div>

                            <h5 class="text-2xl font-semibold">Automatic Routes and Asset Mounting</h5>
                            <p>
                                Lila modifies <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">app/routes/routes.py</code>
                                automatically for your React build. This
                                ensures
                                the React build assets are served correctly and the index.html is rendered from the
                                cache.
                            </p>

                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">routes.py Example</span>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-python">
router.mount(path="/assets", directory="templates/html/react/assets", name="react-assets")

@router.route(path="/{path:path}", methods=["GET"])
async def home(request: Request):
    response = render(request=request, template="react/index")
    return response
            </code></pre>
                                </div>
                            </div>
                            <div>
                                <h3>
                                    Remember to modify the <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">main.py</code>
                                    file when passing your routes
                                    to initialize
                                    the application, always pass <strong>api_routes</strong> first, or whatever you have
                                    named it.
                                    <br /> This is key to getting your API routes without colliding with the general
                                    React route.
                                    <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">
@router.route(path="/{path:path}", methods=["GET"])
</code>
                                    , where React, with React Router, or whatever you use, can handle all the routes.
                                    <br /> Remaining this way in <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">main.py</code>

                                </h3>
                                <div class="code-editor mt-4 mb-4">
                                    <div class="editor-header">
                                        <span class="editor-title">main.py</span>
                                    </div>
                                    <div class="editor-content">
                                        <pre>
<code class="language-python">
all_routes = list(itertools.chain( api_routes,routes))
#First api_routes, then routes (where the general React route is)  
</code>
</pre>
                                    </div>
                                </div>

                            </div>


                            <h5 class="text-2xl font-semibold">Prerendering and Caching</h5>
                            <p>
                                To improve SEO, Lila supports prerendering your React pages and caching them. After
                                building your
                                React app with <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">npm run build</code>,
                                you can generate the cached HTML:
                            </p>

                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">Generate Cache</span>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-bash">
python -m cli.prerender --url http://localhost:8001
# or python3 -m cli.prerender
            </code></pre>
                                </div>
                            </div>

                            <p>
                                Then, in your <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">react/index.html</code>
                                dev file, include the cached HTML for SEO
                                hydration:
                            </p>

                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">index.html snippet</span>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-html">
<div id="root">{% include "react/cache/index.html" ignore missing %}</div>
            </code></pre>
                                </div>
                            </div>

                            <h5 class="text-2xl font-semibold">Startup Integration in main.py</h5>
                            <p>
                                You can optionally execute the prerender automatically on server startup by uncommenting
                                the
                                following section in <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">main.py</code>:
                            </p>

                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">main.py prerender on startup</span>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-python">
# import subprocess
# import sys

# @app.on_event("startup")
# async def startup_event():
#     print("♻️ Prerender for react...")
#     url_with_port = f"http://{HOST}:{PORT}"
#     subprocess.Popen([
#         sys.executable,
#         "-m",
#         "cli.prerender",
#         "--url",
#         url_with_port.strip()
#     ])
            </code></pre>
                                </div>
                            </div>

                            <h5 class="text-2xl font-semibold">SEO and Hydration</h5>
                            <p>
                                By including the cached HTML in the <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">root</code>
                                div, React will rehydrate the
                                content on the
                                client side. This gives you:
                            </p>
                            <ul>
                                <li>Strong SEO recognition by Google Bots and AI.</li>
                                <li>Faster first paint with pre-rendered HTML.</li>
                                <li>Optional daily caching using a scheduled prerender task.</li>
                            </ul>

                            <h5 class="text-2xl font-semibold">React Helpers and Context</h5>
                            <p>
                                You can pass context from Jinja2 templates to React using <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">&lt;script&gt;</code>
                                tags in
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">templates/html/react/index.html</code>.
                                Useful for translations, configuration, or
                                any
                                dynamic data.
                            </p>

                            <h5 class="text-2xl font-semibold">Automatic API Documentation</h5>
                            <p>
                                Lila continues to generate API documentation automatically using Pydantic models. All
                                helpers
                                and middlewares can be combined seamlessly with React routes.
                            </p>

                            <h5 class="text-2xl font-semibold">Session Validation with React</h5>
                            <p>
                                In the backend, you can add a middleware to validate the session. You can also use JWT,
                                but Session is more secure because it is signed by <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">itsdangerous</code>.
                            </p>
                            <p>
                                This way, you can validate requests and store public IDs, tokens, etc., to validate
                                sessions, or you can use JWT or both.
                                The main recommendation is to validate the session this way or with
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">login_required</code>,
                                which is another middleware that can also be configured
                                there.
                                This way, Lila and React are connected for the developer. In production, thanks to the
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">if DEBUG</code>
                                condition, it will be secure with the signature of
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">itsdangerous</code>
                                in the <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">Session</code>
                                class.
                            </p>

                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">app/routes/api.py</span>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-python">
from app.middlewares.middlewares import login_required_auth, check_token, check_session
from lila.core.session import Session
from app.config import DEBUG

# Define a simple API route that supports GET method.
@router.route(path="/api", methods=["GET"])
async def api(request: Request):
    """Api function"""
    # Returns a simple JSON response for API verification.
    response = JSONResponse({"api": True})
    new_val={"id":20}
    samesite="none" if DEBUG else "secure"
    Session.setSession(new_val=new_val,name_cookie='auth',response=response,samesite=samesite)
    return response


# Define an API route that supports GET and POST methods.
@router.route(path="/api/token", methods=["GET", "POST"])
# Middleware to validate the JWT Token.
@login_required_auth
async def api_token(request: Request):
    """Api Token function"""
    print(Session.getSessionValue(request=request))
    return JSONResponse({"api": True})
                                    </code></pre>
                                </div>
                            </div>

                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">app/middlewares/middlewares.py</span>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-python">
def login_required_auth(func, key: str = "auth"):
    @wraps(func)
    async def wrapper(request, *args, **kwargs):
        session_data = Session.getSession(request=request,key=key)
        if not session_data:
            return JSONResponse({"session": False, "success": False}, status_code=401)
        return await func(request, *args, **kwargs)
                                    </code></pre>
                                </div>
                            </div>

                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">React Component</span>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-javascript">
import { useEffect } from 'react';

function MyComponent() {
  useEffect(() => {
    const start = async () => {
      const resp = await fetch('http://127.0.0.1:8000/api', { credentials: 'include' });

      const resp_ = await fetch('http://127.0.0.1:8000/api/token', { credentials: 'include' });
      const json = await resp_.json();

      console.log(json);
    };
    start();
  }, []);

  return (
    &lt;div&gt;
      {/* Your component JSX */}
    &lt;/div&gt;
  );
}
                                    </code></pre>
                                </div>
                            </div>
                        </article>
                        <hr />

                        <article id="rest_api_crud-eng" class="mt-8 mb-8">
                            <h1 class="text-2xl font-semibold">Simple Generation of REST API CRUD</h1>
                            <h5 class="text-2xl font-semibold">At Lila, we have a simple way to generate CRUDs with
                                automatic documentation, allowing
                                you to
                                create your REST API efficiently.</h5>

                            <p>Thanks to the combination of <strong>SQLAlchemy</strong> and <strong>Pydantic</strong>
                                models, it
                                is possible to perform data validations and execute structured queries for API
                                generation.</p>

                            <p>Additionally, you can integrate custom <strong>middlewares</strong> to validate tokens,
                                manage
                                sessions, or process requests. With just a few lines of code, you can generate a fully
                                documented REST API CRUD.</p>

                            <br />
                            <p>
                                <strong>If you haven't already, enable migrations when you start the server</strong>
                                .
                                By default it uses SQLite, it will create a database file <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">lila.sqlite</code>
                                in
                                the
                                project root.
                            </p>
                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">term</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="bash">
python -m cli.migrations 

</code>
</pre>
                                </div>
                            </div>
                            <br />

                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">routes/api.py</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-python">
from lila.core.request import Request
from lila.core.responses import JSONResponse
from lila.core.routing import Router
from pydantic import EmailStr, BaseModel
from app.middlewares.middlewares import validate_token, check_token, check_session
from app.connections import connection  # Database connection with SQLAlchemy
from app.models.user import User  # SQLAlchemy 'User' model

router = Router()# Initialize the router instance for managing API app.routes.


# Pydantic model for validations when creating or modifying a user.
class UserModel(BaseModel):
    email: EmailStr
    name: str
    token: str
    password: str

# Middleware definitions for CRUD operations
middlewares_user = {
    "get": [],
    "post": [], 
    "get_id": [],
    "put": [],
    "delete": [check_session, check_token],#Example middlewares for web session 'check_session' and jwt 'check_token'
}

# Automatically generate CRUD with validations and configurations
router.rest_crud_generate(
    connection=connection,  # Database connection
    model_sql=User,  # SQLAlchemy model
    model_pydantic=UserModel,  # Pydantic model
    select=["name", "email", "id", "created_at", "active"],  # Fields to select in queries
    delete_logic=True,  # Enables logical deletion (updates 'active = 0' instead of deleting records)
    active=True,  # Automatically filters active records ('active = 1')
    middlewares=middlewares_user,  # Custom middlewares for each CRUD action
)
                            </code></pre>
                                </div>
                            </div>

                            <br />
                            <p>You can create your own <strong>middlewares</strong> and pass them as a list to customize
                                security and validations for each <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">rest_crud_generate</code>
                                operation.</p>
                            <p>
                                <strong>
                                    To generate the documentation, always remember to
                                    run it after the routes <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">router.swagger_ui()</code>
                                    and
                                    <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">router.openapi_json()</code>
                                </strong>
                            </p>
                            <h5 class="text-2xl font-semibold">Function Parameters for <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">rest_crud_generate</code>
                            </h5>
                            <p>Below are the parameters that this function accepts to generate CRUD automatically:</p>

                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">core/routing.py</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-python">
def rest_crud_generate(
    self,
    connection,
    model_sql,
    model_pydantic: Type[BaseModel],
    select: Optional[List[str]] = None,
    columns: Optional[List[str]] = None,
    active: bool = False,
    delete_logic: bool = False,
    middlewares: dict = None,
    jsonresponse_prefix:str='',#Return with prefix list o dict 'data' first key
    
    user_id_session:bool| str=False #Example 'user id' to validate in query with where 'user_id'= id session_user
 
) :                    </code></pre>
                                </div>
                            </div>

                            <h5 class="text-2xl font-semibold">Automatic Documentation</h5>
                            <p>Below is an example of the generated documentation for the
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">rest_crud_generate</code>
                                function:
                            </p>
                            <p>Go to <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">http://127.0.0.1:8001/docs</code>,
                                or as configured in your .env file (by
                                HOST and
                                PORT).</p>
                            <div>
                                <h5 class="text-2xl font-semibold">GET - Retrieve all users</h5>
                                <img src="img/rest_1.png" alt="GET - Retrieve all users">
                                <br />

                                <h5 class="text-2xl font-semibold">GET - Output of all users</h5>
                                <img src="img/rest_2.png" alt="GET - Output">
                                <br />

                                <h5 class="text-2xl font-semibold">POST - Create new user</h5>
                                <img src="img/rest_3.png" alt="POST - Create new user">
                                <br />

                                <h5 class="text-2xl font-semibold">GET_ID - Retrieve a specific user</h5>
                                <img src="img/rest_4-5.png" alt="GET_ID - Retrieve a specific user">
                                <br />

                                <h5 class="text-2xl font-semibold">PUT - Update user</h5>
                                <img src="img/rest_4.png" alt="PUT - Update user">
                                <br />

                                <h5 class="text-2xl font-semibold">DELETE - Delete user</h5>
                                <img src="img/rest_5.png" alt="DELETE - Delete user">
                                <br />
                            </div>
                            <br />
                            <p>In this example, we did it with 'users', but you can apply it however you want according
                                to your
                                logic ,'products','stores',etc. Even modifying the core in <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">core/routing.py</code>.
                            </p>
                            <br />
                            <p>
                                <strong>
                                    For both the 'POST' or 'PUT' method function,
                                </strong>
                                If the framework detects that you pass data in the request body such as:
                                'password' , it will automatically encode it with argon2 to make it secure.
                                Body example :
                            <pre><code class="language-json">
{
"email":"example@example.com",
"name":"name",
"password":"my_password_secret"
}
                        </code>
                        </pre>
                            </p>
                            <p>Then, if you pass 'token' or 'hash', with the <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">helper</code>
                                function
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">generate_token_value</code>
                                , it automatically generates a token, which will be saved in the database as the 'token'
                                column
                                with the value generated by the function
                                .
                                Body example :
                            <pre><code class="language-json">
{
"email":"example@example.com",
"name":"name",
"password":"my_password_secret",
"token":""
}
                        </code>
                        </pre>
                            </p>
                            <p>
                                With 'created_at' or 'created_date' , it will save the date and time of the moment, as
                                long as
                                that field exists in the database table.
                                Body example :
                            <pre><code class="language-json">
{
"email":"example@example.com",
"name":"name",
"password":"my_password_secret",
"token":"",
"created_at":""
}
                        </code>
                        </pre>

                            </p>
                            <p>
                                <strong>For the 'PUT', 'GET' (get_id) or 'DELETE' methods</strong>
                                It is optional according to the logic of each REST API, you can pass it as
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">query string</code>
                                , <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">user_id</code>
                                or <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">id_user</code>,
                                an example would be GET, PUT or DELETE as a method
                                to the url http://127.0.0.1:8001/api/products/1?user_id=20
                            </p>
                            <p>Where it validates that the product ID '1' exists but also that it belongs to the user ID
                                '20' .
                            </p>

                        </article>
                        <hr />

                        <article id="admin-panel-eng" class="mt-8 mb-8">
                            <h1 class="text-2xl font-semibold">Admin Panel</h1>
                            <p>
                                The <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">Admin</code>
                                module allows you to manage an admin panel for your application.
                                It includes authentication, model management, system metrics, and more. This panel is
                                highly customizable and integrates easily with your application.
                            </p>
                            <p>
                                The admin panel is now more modular and flexible. All admin-related components
                                (templates, routes, and configuration)
                                are located in the <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">admin</code>
                                folder, making it easier to customize and extend.
                            </p>

                            <h2 class="text-xl">Key Features</h2>
                            <ul>
                                <li><strong>Authentication</strong>: Secure login and logout for administrators.</li>
                                <li><strong>Model Management</strong>: Automatically generates routes and views to
                                    manage your models.</li>
                                <li><strong>System Metrics</strong>: Monitors memory and CPU usage for both the
                                    application and the server.</li>
                                <li><strong>Password Management</strong>: Allows administrators to change their
                                    passwords.</li>
                                <li><strong>Logs</strong>: Enables administrators to view application <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">Logs</code>.
                                </li>
                            </ul>

                            <h2 class="text-xl">Basic Usage</h2>
                            <p>
                                To use the admin panel, you need to import the <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">Admin</code>
                                class from
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">admin.routes</code>
                                and pass it
                                an optional list of models you want to manage. Each model must implement a
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">get_all</code>
                                method to be displayed in the admin panel.
                            </p>

                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">main.py</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre>
                <code class="language-python">
# English: Here we activate the admin panel with default settings.
# Español: Aquí activamos el panel de administrador con configuraciones predeterminadas.
from app.routes.admin import Admin
from app.models.user import User
admin_routes=Admin(models=[User])
all_routes = list(itertools.chain(routes, api_routes,admin_routes))
                </code>
            </pre>
                                </div>
                            </div>

                            <h2 class="text-xl">Setup and Migrations</h2>
                            <p>
                                Before using the admin panel, you need to run the migrations:
                            </p>
                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">Terminal</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre>
                <code class="language-bash">
python -m cli.migrations
                </code>
            </pre>
                                </div>
                            </div>

                            <h2 class="text-xl">Creating Admin Users</h2>
                            <p>
                                Admin users can be created via command line with customizable parameters:
                            </p>
                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">Terminal</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre>
                <code class="language-bash">
# Default usage (random password generated)
python -m cli.create_admin

# With custom username and password
python -m cli.create_admin --user myadmin --password mysecurepassword
                </code>
            </pre>
                                </div>
                            </div>

                            <h2 class="text-xl">Generated Routes</h2>
                            <p>
                                The admin panel automatically generates the following routes:
                            </p>
                            <p>
                                You can access the templates in the <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">templates/html/admin</code>
                                folder.
                            </p>
                            <ul>
                                <li><strong>Login</strong>: <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">/admin/login</code>
                                    (GET/POST)</li>
                                <li><strong>Logout</strong>: <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">/admin/logout</code>
                                    (GET)</li>
                                </li>
                                <li><strong>Dashboard</strong>: <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">/admin</code>
                                    (GET)</li>
                                <li><strong>Model Management</strong>: <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">/admin/{model_plural}</code>
                                    (GET)</li>
                            </ul>

                            <h2 class="text-xl">Authentication Middleware</h2>
                            <p>
                                To protect routes and ensure only authenticated administrators can access them, use the
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">@admin_required</code>
                                decorator from <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">core/admin.py</code>.
                            </p>
                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">Middleware Usage</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre>
                <code class="language-python">
from lila.core.admin import admin_required

@router.route(path="/admin", methods=["GET"])
@admin_required
async def admin_route(request: Request):
    menu_html = menu(models=models)
    return await admin_dashboard(request=request, menu=menu_html)
                </code>
            </pre>
                                </div>
                            </div>

                            <h2 class="text-xl">System Metrics</h2>
                            <p>
                                The admin panel displays real-time metrics, including:
                            </p>
                            <ul>
                                <li>Lila framework memory usage.</li>
                                <li>Lila framework CPU usage.</li>
                                <li>System memory usage.</li>
                                <li>System CPU usage.</li>
                            </ul>
                            <p>
                                These metrics are updated every 10 seconds.
                            </p>

                            <h2 class="text-xl">Logs</h2>
                            <p>
                                In Lila, we use a middleware that you can enable or disable if you want to use
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">Logs</code>
                                for info, warnings, or errors in your application.
                            </p>
                            <p>
                                The middleware is located in <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">core/middleware.py</code>
                                and is added to the
                                application with:
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">app.add_middleware(ErrorHandlerMiddleware)</code>.
                            </p>
                            <p>
                                This helps generate logs that you can view in the admin panel, organized by date (in
                                folders) and type.
                            </p>
                            <p class="container">
                                <img src="img/admin.png" alt="admin" />
                            </p>
                            <br />
                            <p class="container">
                                <img src="img/admin_2.png" alt="admin" />
                            </p>
                        </article>
                        <hr />

                        <article id="minify-eng" class="mt-8 mb-8">
                            <h1 class="text-2xl font-semibold">Minify files for production</h1>
                            <p>
                                With the <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">lila-minify</code>
                                command you can minify your js, css and html files,
                                which are in the <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">public</code>
                                and <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">templates</code>
                                folders.
                            </p>


                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">Terminal Command</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-bash">
lila-minify 
#Or
python -m cli.minify
</code></pre>
                                </div>
                            </div>
                        </article>
                        <hr />

                <article id="production-eng" class="section-card">
                    <h2 class="text-3xl font-bold text-gray-800 dark:text-white mb-6">Deployment to Production</h2>

                    <h3 class="text-2xl font-semibold text-gray-800 dark:text-white mt-8 mb-4">Linux Server (with systemd)</h3>
                    <p class="text-gray-600 dark:text-gray-300 mb-6">
                        To deploy your Lila application on a Linux server, it's recommended to use a virtual environment and a systemd service to manage the process.
                    </p>

                    <h4 class="text-xl font-semibold text-gray-800 dark:text-white mt-6 mb-3">1. Create a Virtual Environment</h4>
                    <div class="code-editor">
                        <div class="editor-header"><span>Terminal</span></div>
                        <div class="editor-content"><pre><code class="language-bash">
python -m venv venv
source venv/bin/activate
pip install -r requirements.txt
                        </code></pre></div>
                    </div>

                    <h4 class="text-xl font-semibold text-gray-800 dark:text-white mt-6 mb-3">2. Create a Start Script</h4>
                    <div class="code-editor">
                        <div class="editor-header"><span>start_lila.sh</span></div>
                        <div class="editor-content"><pre><code class="language-bash">
#!/bin/bash
source /path/to/your/project/venv/bin/activate
python /path/to/your/project/main.py
                        </code></pre></div>
                    </div>

                    <h4 class="text-xl font-semibold text-gray-800 dark:text-white mt-6 mb-3">3. Create a systemd Service</h4>
                    <div class="code-editor">
                        <div class="editor-header"><span>/etc/systemd/system/lila.service</span></div>
                        <div class="editor-content"><pre><code class="language-ini">
[Unit]
Description=Lila Framework Service
After=network.target

[Service]
User=your_user
Group=your_group
WorkingDirectory=/path/to/your/project
ExecStart=/path/to/your/project/start_lila.sh
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
                        </code></pre></div>
                    </div>

                    <h4 class="text-xl font-semibold text-gray-800 dark:text-white mt-6 mb-3">4. Enable and Start the Service</h4>
                    <div class="code-editor">
                        <div class="editor-header"><span>Terminal</span></div>
                        <div class="editor-content"><pre><code class="language-bash">
sudo systemctl daemon-reload
sudo systemctl enable lila.service
sudo systemctl start lila.service
                        </code></pre></div>
                    </div>

                    <h3 class="text-2xl font-semibold text-gray-800 dark:text-white mt-8 mb-4">Windows Server</h3>
                    <p class="text-gray-600 dark:text-gray-300 mb-6">
                        On Windows, you can use the Task Scheduler to run your application at startup.
                    </p>
                    <ol class="list-decimal list-inside text-gray-600 dark:text-gray-300 space-y-2">
                        <li>Create a `.bat` or `.ps1` script to start your application.</li>
                        <li>Open Task Scheduler and create a new task that runs at system startup.</li>
                        <li>Set the action to run your script.</li>
                    </ol>

                    <h3 class="text-2xl font-semibold text-gray-800 dark:text-white mt-8 mb-4">Disable Debug Mode</h3>
                    <p class="text-gray-600 dark:text-gray-300 mb-6">
                        In your `.env` file, make sure to set `DEBUG=False` for production.
                    </p>
                    <div class="code-editor">
                        <div class="editor-header"><span>.env</span></div>
                        <div class="editor-content"><pre><code class="language-ini">
DEBUG=False
                        </code></pre></div>
                    </div>
                </article>

            </div>
        </main>
    </div>

</body>
</html>