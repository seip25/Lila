<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="color-scheme" content="light dark" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="canonical" href="https://seip25.github.io/Lila/" />
    <title>Lila Framework - Framework Web de Python</title>
    <meta name="google-site-verification" content="X_F63szaGUDmU8TZv_IJ0GvT79Cfncj5YqBJHTKp1t0" />
    <meta name="description"
        content="Lila es un framework web de Python basado en Starlette y Pydantic, diseñado para la simplicidad, flexibilidad y alto rendimiento." />
    <meta name="keywords" content="Python, Framework Web, API, Starlette, Pydantic, SQLAlchemy, JWT" />
    <meta name="author" content="Lila Framework Team" />

    <meta property="og:title" content="Lila Framework - Framework Web de Python" />
    <meta property="og:description"
        content="Lila es un framework web de Python basado en Starlette y Pydantic, diseñado para la simplicidad, flexibilidad y alto rendimiento." />
    <meta property="og:image" content="https://seip25.github.io/Lila/img/lila.png" />
    <meta property="og:url" content="https://seip25.github.io/Lila/esp/documentation.html" />
    <meta property="og:type" content="website" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Lila Framework - Framework Web de Python" />
    <meta name="twitter:description"
        content="Lila es un framework de Python basado en Starlette y Pydantic, diseñado para la simplicidad, flexibilidad y alto rendimiento." />
    <meta name="twitter:image" content="https://seip25.github.io/Lila/img/lila.png" />

    <meta name="language" content="es" />
    <meta http-equiv="Content-Language" content="es" />

    <link rel="icon" type="image/png" href="../img/lila.png" alt="Logo de Lila Framework" />

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        lila: '#A78BFA',
                    }
                }
            }
        }
    </script>

    <link rel="stylesheet" href="../css/atom-one-dark.min.css" />
    <link rel="stylesheet" href="../css/index.css" />
    <script src="../js/highlight.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            hljs.highlightAll();
        });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.2/lib/anime.min.js"></script>

    <script src="../js/index.js"></script>

</head>

<body class="bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-200 font-sans antialiased">
    <header class="py-4 border-b dark:border-gray-800">
        <nav class="container mx-auto px-4 flex justify-between items-center">
            <div class="text-2xl font-bold">
                <h1 class="text-lila">
                    <a href="index.html">Lila Framework</a>
                </h1>
            </div>
            <div class="flex items-center space-x-6">
                <button id="theme-toggle-button" type="button"
                    class="p-2 rounded-md text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-300 dark:focus:ring-gray-600">
                    <svg id="theme-toggle-sun-icon" class="h-6 w-6 hidden" fill="currentColor" viewBox="0 0 20 20"
                        xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm-.707 12.122l.707-.707a1 1 0 011.414 1.414l-.707.707a1 1 0 01-1.414-1.414zM4 11a1 1 0 100-2H3a1 1 0 100 2h1z"
                            fill-rule="evenodd" clip-rule="evenodd"></path>
                    </svg>
                    <svg id="theme-toggle-moon-icon" class="h-6 w-6" fill="currentColor" viewBox="0 0 20 20"
                        xmlns="http://www.w3.org/2000/svg">
                        <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
                    </svg>
                </button>
                <ul class="flex items-center space-x-6">
                    <li><a href="../documentation.html"
                            class="hover:text-lila transition-colors duration-200">English</a></li>
                    <li><a href="https://github.com/seip25/Lila"
                            class="hover:text-lila transition-colors duration-200">Github</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <div class="flex">
        <aside
            class="fixed top-16 left-0 w-64 h-full bg-white dark:bg-gray-900 border-r dark:border-gray-800 overflow-y-auto">
            <nav class="p-4">
                <ul class="space-y-1">
                    <li><a href="#install-esp"
                            class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">Instalación</a>
                    </li>
                    <li><a href="#routes-esp"
                            class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">Rutas</a></li>
                    <li><a href="#static-esp"
                            class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">Estáticos</a>
                    </li>
                    <li><a href="#templates-esp"
                            class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">Plantillas</a>
                    </li>
                    <li><a href="#session-esp"
                            class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">Sesión</a></li>
                    <li><a href="#upload-esp"
                            class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">Subida de
                            Archivos</a></li>
                    <li><a href="#markdown-esp"
                            class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">Markdown/HTML</a>
                    </li>
                    <li><a href="#locales-esp"
                            class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">Internacionalización</a>
                    </li>
                    <li><a href="#models-esp"
                            class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">Modelos</a></li>
                    <li><a href="#middlewares-esp"
                            class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">Middlewares</a>
                    </li>
                    <li><a href="#cli_commands-esp"
                            class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">CLI Commands</a>
                    </li>
                    <li><a href="#connections-esp"
                            class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">Conexiones</a>
                    </li>
                    <li><a href="#migrations-esp"
                            class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">Migraciones</a>
                    </li>
                    <li><a href="#auth-esp"
                            class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">Auth Cli </a>
                    </li>
                    <li>
                        <a href="#scaffold_crud-esp"
                            class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">Scaffold
                            CRUD</a>
                    </li>

                    <li><a href="#react"
                            class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">React</a></li>
                    <li><a href="#rest_api_crud-esp"
                            class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">API Rest
                            CRUD</a></li>
                    <li><a href="#admin-panel-esp"
                            class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">Panel de
                            Admin</a></li>
                    <li><a href="#minify-esp"
                            class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">Minificar</a>
                    </li>
                    <li><a href="#production-esp"
                            class="block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">Producción</a>
                    </li>
                </ul>
            </nav>
        </aside>

        <main class="ml-64 p-8 w-full">
            <div class="max-w-4xl mx-auto">
                <div id="search" class="mt-8 mb-8">
                    <input type="search" name="search" id="searchBox" placeholder="Buscar..."
                        onkeyup="searchDocs(false,'esp')"
                        class="w-full p-2 border border-gray-500
                        bg-white  dark:bg-gray-800 dark:border-gray-800 focus:outline-none focus:ring-2 focus:ring-lila transition rounded-lg" />
                    <ul id="searchResults"></ul>
                </div>

                <div id="doc">
                    <div id="doc-esp" class="mt-8 mb-8 container mx-auto px-4 py-4 mt-8 mb-8">

                        <article id="install-esp" class="section-card">
                            <h2 class="text-3xl font-bold text-gray-800 dark:text-white mb-6 flex items-center">
                                <i class="fas fa-download mr-3 text-lila-500"></i> Instalación
                            </h2>
                            <div class="code-editor mt-6 mb-6">
                                <div class="editor-header bg-gray-800 dark:bg-gray-900">
                                    <span class="editor-title text-gray-300 dark:text-gray-400">
                                        <i class="fas fa-terminal mr-2"></i>Comandos de Instalación
                                    </span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content bg-gray-900 dark:bg-black">
                                    <div class="command-line flex items-start mb-2">
                                        <span class="text-purple-400 mr-2">$</span>
                                        <span class="comando text-green-400">python -m venv venv</span>
                                        <span class="text-gray-500 ml-2"># O python3 -m venv venv</span>
                                    </div>
                                    <div class="command-line flex items-start mb-2">
                                        <span class="text-purple-400 mr-2">$</span>
                                        <span class="comando text-green-400">source venv/bin/activate</span>
                                        <span class="text-gray-500 ml-2"># En Windows usa `venv\Scripts\activate`</span>
                                    </div>
                                    <div class="command-line flex items-start mb-2">
                                        <span class="text-purple-400 mr-2">$</span>
                                        <span class="comando text-green-400">pip install lila-framework</span>
                                    </div>
                                    <div class="command-line flex items-start mb-2">
                                        <span class="text-purple-400 mr-2">$</span>
                                        <span class="comando text-green-400">lila-init</span>
                                    </div>
                                    <div class="command-line flex items-start">
                                        <span class="text-purple-400 mr-2">$</span>
                                        <span class="comando text-green-400">python main.py</span>
                                        <span class="text-gray-500 ml-2"># O python3 main.py</span>
                                    </div>
                                    <span class="cursor"></span>
                                </div>
                            </div>
                        </article>

                        <div class="border-t border-gray-200 dark:border-gray-700 my-8"></div>

                        <article id="app-py-esp" class="section-card">
                            <h2 class="text-3xl font-bold text-gray-800 dark:text-white mb-6 flex items-center">
                                <i class="fas fa-cogs mr-3 text-lila-500"></i> Configuración de la Aplicación
                            </h2>
                            <p class="text-gray-600 dark:text-gray-300 mb-6 text-lg">
                                <strong>Propósito:</strong> Configurar e iniciar la aplicación. main.py es el punto de
                                entrada principal donde se configura e inicializa la aplicación.
                            </p>

                            <div class="code-editor mt-6 mb-6">
                                <div class="editor-header bg-gray-800 dark:bg-gray-900">
                                    <span class="editor-title text-gray-300 dark:text-gray-400">
                                        <i class="fas fa-file-code mr-2"></i>Explicación de main.py
                                    </span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content bg-gray-900 dark:bg-black">
                                    <pre><code class="language-python">
from lila.core.app import App
from app.routes.routes import routes
from app.routes.api import routes as api_routes
from lila.core.middleware import Middleware
from app.config import PORT, HOST, DEBUG
from app.middlewares.defaults import (
    LoggingMiddleware,
    IPBlockingMiddleware,
    URLBlockingMiddleware,
    MaliciousExtensionMiddleware,
    SensitivePathMiddleware,
    ErrorHandlerMiddleware,
)
import itertools
import uvicorn
import asyncio

# English: Combining application and API routes into a single list.
# Español: Combinando las rutas de la aplicación y la API en una única lista.
all_routes = list(itertools.chain(routes, api_routes))

# English: Here we activate the admin panel with default settings.
# Español: Aquí activamos el panel de administrador con configuraciones predeterminadas.
# from app.routes.admin import Admin
# from app.models.user import User
# admin_routes=Admin(models=[User])
# all_routes = list(itertools.chain(routes, api_routes,admin_routes))
# English: Marker for the admin routes in main.py.
# Español: Marcador para las rutas de administrador en main.py.
# admin_marker

cors = None

# English: CORS usage example
# Español : Ejemplo de utilización de CORS
# cors={
#     "origin": ["*"],
#     "allow_credentials" : True,
#     "allow_methods":["*"],
#     "allow_headers": ["*"]
# }
# app = App(debug=True, routes=all_routes,cors=cors)

# English:necessary for cli command modify react cors for development
# Español:necesario para el comando cli modificar cors de react para desarrollo
# react_marker

middlewares = [
    Middleware(LoggingMiddleware),
    Middleware(IPBlockingMiddleware),
    Middleware(URLBlockingMiddleware),
    Middleware(MaliciousExtensionMiddleware),
    Middleware(SensitivePathMiddleware),
    Middleware(ErrorHandlerMiddleware),
]

# English: Initializing the application with debugging enabled and the combined routes.
# Español: Inicializando la aplicación con la depuración activada y las rutas combinadas.
app = App(debug=DEBUG, routes=all_routes, cors=cors, middleware=middlewares)

# English: To ensure SEO (bots, AI), caching, and HTML hydration, uncomment these lines.
# Adding {% include "react/cache/index.html" %} to <div id="root">
# Español :Para tener seo (bots,ia) ,cache y que react hidrate el html ,descomenta estas lineas.
# Agregadando en <div id="root"> ,  {% include "react/cache/index.html"  %}

# import subprocess
# import sys

# @app.on_event("startup")
# async def startup_event():
#     print("♻️ Prerender for react...")
#     url_with_port =f" http://{HOST}:{PORT}"
#     subprocess.Popen([
#     sys.executable,
#     "-m",
#     "cli.prerender",
#     "--url",
#     url_with_port.strip()
# ])


# English: Asynchronous main function to run the application server.
# Español: Función principal asíncrona para ejecutar el servidor de la aplicación.
async def main():
    # English: Starting the Uvicorn server with the application instance.
    # Español: Iniciando el servidor Uvicorn con la instancia de la aplicación.
    uvicorn.run("main:app", host=HOST, port=PORT, reload=True)


# English: Entry point for the script, running the main asynchronous function.
# Español: Punto de entrada del script, ejecutando la función principal asíncrona.
if __name__ == "__main__":
    try:
        asyncio.run(main())
    except KeyboardInterrupt:
        # English: Gracefully shutting down the application on keyboard interrupt.
        # Español: Apagando la aplicación de manera ordenada al interrumpir con el teclado.
        print("Shutting down the application...")
        pass
            </code></pre>
                                </div>
                            </div>
                        </article>

                        <div class="border-t border-gray-200 dark:border-gray-700 my-8"></div>
                        <article id="routes-esp" class="section-card">
                            <h2 class="text-3xl font-bold text-gray-800 dark:text-white mb-6 flex items-center">
                                <i class="fas fa-route mr-3 text-lila-500"></i> Rutas
                            </h2>

                            <p class="text-gray-600 dark:text-gray-300 mb-4">
                                Las rutas son los puntos de acceso a la aplicación. En Lila, las rutas se definen en el
                                directorio
                                <code class="code-inline">routes</code> (por defecto, aunque puedes ubicarlas donde
                                desees) y
                                se importan en <code class="code-inline">main.py</code> para su uso. Las rutas pueden
                                configurarse
                                para manejar solicitudes HTTP, métodos de API y más.
                            </p>

                            <p class="text-gray-600 dark:text-gray-300 mb-6">
                                Además de <code class="code-inline">JSONResponse</code>, puedes usar <code
                                    class="code-inline">HTMLResponse</code>,
                                <code class="code-inline">RedirectResponse</code>, <code
                                    class="code-inline">PlainTextResponse</code> o
                                <code class="code-inline">StreamingResponse</code> para transmitir datos en tiempo real
                                (útil para video/audio en streaming o respuestas grandes).
                            </p>

                            <p class="text-gray-600 dark:text-gray-300 mb-6">
                                A continuación, un ejemplo de cómo se definen las rutas en Lila:
                            </p>

                            <div class="code-editor mt-6 mb-8">
                                <div class="editor-header bg-gray-800 dark:bg-gray-900">
                                    <span class="editor-title text-gray-300 dark:text-gray-400">
                                        <i class="fas fa-file-code mr-2"></i>routes/api.py
                                    </span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content bg-gray-900 dark:bg-black">
                                    <pre><code class="language-python">
from lila.core.responses import JSONResponse
from lila.core.routing import Router
from lila.core.request import Request

router = Router()

@router.route(path='/api', methods=['GET'])
async def api(request: Request):
    """Función API"""
    return JSONResponse({'api': True})
            </code></pre>
                                </div>
                            </div>

                            <h3
                                class="text-2xl font-semibold text-gray-800 dark:text-white mt-10 mb-4 flex items-center">
                                <i class="fas fa-code-branch mr-2 text-lila-400"></i> Obtener Parámetros de URL
                            </h3>

                            <p class="text-gray-600 dark:text-gray-300 mb-4">
                                En esta función recibimos un parámetro a través de la URL usando <code
                                    class="code-inline">{param}</code>.
                                Si no se proporciona, se usa <code class="code-inline">'default'</code>.
                                La respuesta es un JSON con el valor recibido.
                            </p>

                            <div class="code-editor mt-6 mb-8">
                                <div class="editor-header bg-gray-800 dark:bg-gray-900">
                                    <span class="editor-title text-gray-300 dark:text-gray-400">
                                        <i class="fas fa-code mr-2"></i>Recibiendo Parámetros GET
                                    </span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content bg-gray-900 dark:bg-black">
                                    <pre><code class="language-python">
@router.route(path='/url_with_param/{param}', methods=['GET']) 
async def param(request: Request):  
    param = request.path_params.get('param', 'default') 
    return JSONResponse({"received_param": param})
            </code></pre>
                                </div>
                            </div>

                            <p class="text-gray-600 dark:text-gray-300 mb-6">
                                También se puede hacer así:
                            </p>

                            <div class="code-editor mt-6 mb-8">
                                <div class="editor-header bg-gray-800 dark:bg-gray-900">
                                    <span class="editor-title text-gray-300 dark:text-gray-400">
                                        <i class="fas fa-code mr-2"></i>Recibiendo Parámetros de Consulta GET
                                    </span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content bg-gray-900 dark:bg-black">
                                    <pre><code class="language-python"> 
@router.route(path='/url_with_param/?query_param', methods=['GET','POST']) 
async def query_param(request: Request):  
    query_param = request.query_params.get('query_param', 'query_param')
    return JSONResponse({"received_param": query_param})
            </code></pre>
                                </div>
                            </div>

                            <h3
                                class="text-2xl font-semibold text-gray-800 dark:text-white mt-10 mb-4 flex items-center">
                                <i class="fas fa-filter mr-2 text-lila-400"></i> Uso de Middleware y Decoradores
                            </h3>

                            <p class="text-gray-600 dark:text-gray-300 mb-6">
                                Los middlewares permiten interceptar las solicitudes antes de que lleguen a la lógica
                                principal de la API.
                                En este ejemplo usamos <code class="code-inline">@validate_token</code> para validar un
                                token JWT en el encabezado.
                            </p>

                            <div class="code-editor mt-6 mb-8">
                                <div class="editor-header bg-gray-800 dark:bg-gray-900">
                                    <span class="editor-title text-gray-300 dark:text-gray-400">
                                        <i class="fas fa-shield-alt mr-2"></i>Validación de Middleware
                                    </span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content bg-gray-900 dark:bg-black">
                                    <pre><code class="language-python">
@router.route(path='/api/token', methods=['GET','POST'])
@validate_token  # Middleware para validar token JWT.
async def api_token(request: Request):
    return JSONResponse({'api': True})
            </code></pre>
                                </div>
                            </div>

                            <h3
                                class="text-2xl font-semibold text-gray-800 dark:text-white mt-10 mb-4 flex items-center">
                                <i class="fas fa-check-circle mr-2 text-lila-400"></i> Validación de Datos con Pydantic
                            </h3>

                            <p class="text-gray-600 dark:text-gray-300 mb-6">
                                Pydantic permite definir modelos de datos que validan automáticamente la entrada del
                                usuario.
                                Además, especificar un modelo en la ruta genera documentación automática en <code
                                    class="code-inline">/docs</code>.
                            </p>

                            <div class="code-editor mt-6 mb-8">
                                <div class="editor-header bg-gray-800 dark:bg-gray-900">
                                    <span class="editor-title text-gray-300 dark:text-gray-400">
                                        <i class="fas fa-check-square mr-2"></i>Validación con Pydantic
                                    </span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content bg-gray-900 dark:bg-black">
                                    <pre><code class="language-python">
from pydantic import EmailStr, BaseModel 

class ExampleModel(BaseModel):
    email: EmailStr  # Valida que sea un email válido.
    password: str  # Cadena de texto para contraseña.

@router.route(path='/api/example', methods=['POST'], model=ExampleModel)
async def login(request: Request):
    body = await request.json()
    try:
        input = ExampleModel(**body)  # Validación automática con Pydantic.
    except Exception as e:
        return JSONResponse({"success": False, "msg": f"JSON inválido: {e}"}, status_code=400) 
    return JSONResponse({"email": input.email, "password": input.password})
            </code></pre>
                                </div>
                            </div>

                            <h3
                                class="text-2xl font-semibold text-gray-800 dark:text-white mt-10 mb-4 flex items-center">
                                <i class="fas fa-book mr-2 text-lila-400"></i> Generación Automática de Documentación
                            </h3>

                            <p class="text-gray-600 dark:text-gray-300 mb-6">
                                Gracias a la integración con Pydantic, la documentación de la API se genera
                                automáticamente
                                y es accesible desde <code class="code-inline">/docs</code>. También puedes generar un
                                archivo
                                OpenAPI JSON para herramientas externas.
                            </p>

                            <div class="code-editor mt-6 mb-8">
                                <div class="editor-header bg-gray-800 dark:bg-gray-900">
                                    <span class="editor-title text-gray-300 dark:text-gray-400">
                                        <i class="fas fa-file-alt mr-2"></i>Generación de Documentación
                                    </span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content bg-gray-900 dark:bg-black">
                                    <pre><code class="language-python">
router.swagger_ui()  # Activa Swagger UI para la documentación de la API.
router.openapi_json()  # Genera OpenAPI JSON para herramientas externas.
            </code></pre>
                                </div>
                            </div>

                            <h3
                                class="text-2xl font-semibold text-gray-800 dark:text-white mt-10 mb-4 flex items-center">
                                <i class="fas fa-file-import mr-2 text-lila-400"></i> Importando Rutas en main.py
                            </h3>

                            <p class="text-gray-600 dark:text-gray-300 mb-6">
                                Para usar las rutas definidas en el router, debes obtenerlas con
                                <code class="code-inline">router.get_routes()</code> e importarlas en <code
                                    class="code-inline">main.py</code>.
                            </p>

                            <div class="code-editor mt-6 mb-8">
                                <div class="editor-header bg-gray-800 dark:bg-gray-900">
                                    <span class="editor-title text-gray-300 dark:text-gray-400">
                                        <i class="fas fa-sign-in-alt mr-2"></i>Importación de Rutas
                                    </span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content bg-gray-900 dark:bg-black">
                                    <pre><code class="language-python">
routes = router.get_routes()  # Obtiene todas las rutas definidas.
            </code></pre>
                                </div>
                            </div>

                            <h3
                                class="text-2xl font-semibold text-gray-800 dark:text-white mt-10 mb-4 flex items-center">
                                <i class="fas fa-layer-group mr-2 text-lila-400"></i> Prefijos de Rutas y Atajos para
                                Métodos HTTP
                            </h3>

                            <p class="text-gray-600 dark:text-gray-300 mb-6">
                                Las rutas ahora pueden tener un <code class="code-inline">prefix</code> para agrupar
                                múltiples endpoints bajo un mismo camino.
                                Además, puedes definir rutas directamente con métodos HTTP: <code
                                    class="code-inline">get</code>,
                                <code class="code-inline">post</code>, <code class="code-inline">put</code> y <code
                                    class="code-inline">delete</code>.
                            </p>

                            <div class="code-editor mt-6 mb-8">
                                <div class="editor-header bg-gray-800 dark:bg-gray-900">
                                    <span class="editor-title text-gray-300 dark:text-gray-400">
                                        <i class="fas fa-file-code mr-2"></i>routes/v1_api_example.py
                                    </span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content bg-gray-900 dark:bg-black">
                                    <pre><code class="language-python">
from lila.core.responses import JSONResponse
from lila.core.routing import Router
from lila.core.request import Request
from pydantic import BaseModel

router = Router(prefix="v1/api")

# ---------------- Ejemplo GET ----------------
@router.get("/items/{item_id}")
async def get_item(request: Request):
    """Obtener un ítem por ID."""
    item_id = request.path_params.get("item_id")
    return JSONResponse({"item_id": item_id, "status": "fetched"})

# ---------------- Ejemplo POST ----------------
class CreateItemModel(BaseModel):
    name: str
    description: str

@router.post("/items", model=CreateItemModel)
async def create_item(request: Request):
    """Crear un nuevo ítem."""
    body = await request.json()
    input_data = CreateItemModel(**body)
    return JSONResponse({"name": input_data.name, "description": input_data.description})

# ---------------- Ejemplo PUT ----------------
class UpdateItemModel(BaseModel):
    name: str
    description: str

@router.put("/items/{item_id}", model=UpdateItemModel)
async def update_item(request: Request):
    """Actualizar un ítem existente por ID."""
    item_id = request.path_params.get("item_id")
    body = await request.json()
    input_data = UpdateItemModel(**body)
    return JSONResponse({"item_id": item_id, "updated_name": input_data.name})

# ---------------- Ejemplo DELETE ----------------
@router.delete("/items/{item_id}")
async def delete_item(request: Request):
    """Eliminar un ítem por ID."""
    item_id = request.path_params.get("item_id")
    return JSONResponse({"item_id": item_id, "status": "deleted"})
            </code></pre>
                                </div>
                            </div>

                            <p class="text-gray-600 dark:text-gray-300 mb-6">
                                Estos ejemplos muestran cómo:
                            <ul class="list-disc ml-6">
                                <li>Usar un <code class="code-inline">prefix</code> para versionar endpoints.</li>
                                <li>Usar decoradores específicos por método como <code
                                        class="code-inline">@router.get</code>, <code
                                        class="code-inline">@router.post</code>, etc.</li>
                                <li>Validar automáticamente la entrada y generar documentación usando modelos Pydantic.
                                </li>
                                <li>Recibir parámetros por URL y cuerpos JSON.</li>
                            </ul>
                            La documentación se genera automáticamente en <code class="code-inline">/docs</code> y <code
                                class="code-inline">/openapi.json</code>.
                            </p>
                        </article>


                        <hr />
                        <article id="static-esp" class="space-y-6 md:space-y-8 py-8">
                            <div class="space-y-4">
                                <h1 class="text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100">
                                    Archivos Estáticos
                                </h1>
                                <p class="text-lg text-gray-700 dark:text-gray-300">
                                    Para cargar archivos estáticos (JS, CSS, etc.), puedes usar el método <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">mount()</code>.
                                </p>
                                <p class="text-gray-700 dark:text-gray-300">
                                    Los parámetros por defecto son:
                                    <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">path: str = '/public', directory: str = 'static', name: str = 'static'</code>
                                </p>
                            </div>

                            <div class="bg-gray-800 rounded-xl shadow-lg overflow-hidden border border-gray-700">
                                <div class="flex items-center gap-2 px-4 py-3 bg-gray-900 border-b border-gray-700">
                                    <div class="size-3 rounded-full bg-red-500"></div>
                                    <div class="size-3 rounded-full bg-yellow-400"></div>
                                    <div class="size-3 rounded-full bg-green-500"></div>
                                    <span class="ml-auto text-sm font-semibold text-gray-300">Estático</span>
                                </div>
                                <div class="overflow-x-auto p-4 md:p-6 text-sm text-gray-200">
                                    <pre class="language-python">
<code class="whitespace-pre-wrap">
from lila.core.routing import Router
# Creando una instancia del Enrutador
router = Router()
# Montando los archivos estáticos en la carpeta 'static', con URL '/public' por defecto
router.mount()
</code>
</pre>
                                </div>
                            </div>
                        </article>

                        <hr class="my-10 border-gray-300 dark:border-gray-700" />

                        <article id="templates-esp" class="space-y-6 md:space-y-8 py-8">
                            <h1 class="text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100">
                                Renderizado de Plantillas (Jinja2 + Lila JS)
                            </h1>
                            <p class="text-lg text-gray-700 dark:text-gray-300">
                                En Lila, puedes usar
                                <strong class="font-semibold text-gray-900 dark:text-gray-100">Jinja2</strong> para
                                renderizar
                                HTML con datos del servidor o
                                <strong class="font-semibold text-gray-900 dark:text-gray-100">Lila JS</strong> para
                                crear componentes reactivos. Incluso puedes combinar ambos enfoques.
                            </p>

                            <section class="space-y-6">
                                <h2 class="text-2xl font-semibold text-gray-900 dark:text-gray-100">Renderizado con
                                    Jinja2</h2>
                                <p class="text-gray-700 dark:text-gray-300">
                                    Jinja2 es el motor de plantillas por defecto para renderizar HTML. Puedes pasar
                                    datos como
                                    traducciones, valores, listas o diccionarios usando el parámetro <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">context</code>.
                                </p>

                                <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200">Uso Básico en Rutas
                                </h3>
                                <div class="bg-gray-800 rounded-xl shadow-lg overflow-hidden border border-gray-700">
                                    <div class="overflow-x-auto p-4 md:p-6 text-sm text-gray-200">
                                        <pre class="language-python">
<code class="whitespace-pre-wrap">
@router.route(path="/", methods=["GET"])
async def home(request: Request):
  context = {}

  response = render(
    request=request,
    template="index",
    context=context
  )
  # Renderiza la plantilla 'index'

  return response
</code>
</pre>
                                    </div>
                                </div>

                                <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200">
                                    La Función
                                    <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">render</code>
                                </h3>
                                <p class="text-gray-700 dark:text-gray-300">
                                    La función
                                    <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">render</code>
                                    se encuentra en
                                    <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">lila.core.templates</code>:
                                </p>

                                <div class="bg-gray-800 rounded-xl shadow-lg overflow-hidden border border-gray-700">
                                    <div class="overflow-x-auto p-4 md:p-6 text-sm text-gray-200">
                                        <pre class="language-python">
<code class="whitespace-pre-wrap">
def render(
  request: Request,
  template: str,
  context: dict = {},
  theme_: bool = True,
  translate: bool = True,
  files_translate: list = [],
  lang_default: str = None,
  templates=templates
)
</code>
</pre>
                                    </div>
                                </div>

                                <h3 class="text-2xl font-semibold text-gray-900 dark:text-gray-100">Descripción de
                                    Parámetros</h3>
                                <ul class="space-y-2 p-6 rounded-lg bg-gray-50 dark:bg-gray-800">
                                    <li class="flex flex-col md:flex-row md:items-start">
                                        <strong
                                            class="font-semibold text-gray-900 dark:text-gray-100 min-w-40">request:</strong>
                                        <p class="text-gray-700 dark:text-gray-300 mt-1 md:mt-0">
                                            The
                                            <code
                                                class="bg-gray-100 dark:bg-gray-900 text-gray-700 dark:text-gray-300 px-1.5 py-0.5 rounded-md font-mono text-xs">Request</code>
                                            object.
                                        </p>
                                    </li>
                                    <li class="flex flex-col md:flex-row md:items-start">
                                        <strong class="font-semibold text-gray-900 dark:text-gray-100 min-w-40">template
                                            (str):</strong>
                                        <p class="text-gray-700 dark:text-gray-300 mt-1 md:mt-0">
                                            Template name (without the
                                            <code
                                                class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">.html</code>
                                            extension).
                                        </p>
                                    </li>
                                    <li class="flex flex-col md:flex-row md:items-start">
                                        <strong class="font-semibold text-gray-900 dark:text-gray-100 min-w-40">context
                                            (dict):</strong>
                                        <p class="text-gray-700 dark:text-gray-300 mt-1 md:mt-0">
                                            Data to pass to the template (dictionaries, lists, etc.).
                                        </p>
                                    </li>
                                    <li class="flex flex-col md:flex-row md:items-start">
                                        <strong class="font-semibold text-gray-900 dark:text-gray-100 min-w-40">theme_
                                            (bool, default=True):</strong>
                                        <p class="text-gray-700 dark:text-gray-300 mt-1 md:mt-0">Applies the default
                                            visual theme.</p>
                                    </li>
                                    <li class="flex flex-col md:flex-row md:items-start">
                                        <strong
                                            class="font-semibold text-gray-900 dark:text-gray-100 min-w-40">translate
                                            (bool, default=True):</strong>
                                        <p class="text-gray-700 dark:text-gray-300 mt-1 md:mt-0">Enables the built-in
                                            translation system.</p>
                                    </li>
                                    <li class="flex flex-col md:flex-row md:items-start">
                                        <strong
                                            class="font-semibold text-gray-900 dark:text-gray-100 min-w-40">files_translate
                                            (list):</strong>
                                        <p class="text-gray-700 dark:text-gray-300 mt-1 md:mt-0">List of additional
                                            translation files.</p>
                                    </li>
                                    <li class="flex flex-col md:flex-row md:items-start">
                                        <strong
                                            class="font-semibold text-gray-900 dark:text-gray-100 min-w-40">lang_default
                                            (str):</strong>
                                        <p class="text-gray-700 dark:text-gray-300 mt-1 md:mt-0">
                                            Forced default language (ideal for SEO in routes like
                                            <code
                                                class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">/es</code>,
                                            <code
                                                class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">/en</code>,
                                            etc.).
                                        </p>
                                    </li>
                                    <li class="flex flex-col md:flex-row md:items-start">
                                        <strong
                                            class="font-semibold text-gray-900 dark:text-gray-100 min-w-40">templates:</strong>
                                        <p class="text-gray-700 dark:text-gray-300 mt-1 md:mt-0">Base template
                                            collection used by Lila.</p>
                                    </li>
                                </ul>
                                <p class="text-sm text-gray-600 dark:text-gray-400">
                                    In Lila, you can also use
                                    <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">translate</code>
                                    to pass translations to Jinja2, and parameters like
                                    <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">title</code>
                                    or
                                    <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">version</code>
                                    (ideal for structuring APIs: "v1", "v2").
                                </p>
                            </section>

                            <section class="space-y-6">
                                <h2 class="text-2xl font-semibold text-gray-900 dark:text-gray-100">Lila JS: Reactive
                                    System</h2>
                                <p class="text-gray-700 dark:text-gray-300">
                                    Lila JS is a minimalist library for building reactive interfaces with plain
                                    JavaScript.
                                </p>
                                <p>
                                    <a href="https://seip25.github.io/Lila_js/" target="_blank"
                                        class="text-blue-500 hover:text-blue-600 font-medium">Lila JS Documentation
                                        →</a>
                                </p>

                                <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-200">Key Concepts</h3>
                                <div class="grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 gap-6">
                                    <div class="bg-gray-100 dark:bg-gray-800 p-6 rounded-lg space-y-3">
                                        <h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100">Reactive
                                            State</h4>
                                        <p class="text-sm text-gray-700 dark:text-gray-300">
                                            The state is a special object that automatically updates the interface when
                                            its value changes.
                                        </p>
                                        <div class="bg-gray-800 rounded-lg p-3 text-sm text-gray-200">
                                            <pre class="language-javascript"><code class="whitespace-pre-wrap">
state: () => ({
  email: '',
  password: ''
})
</code></pre>
                                        </div>
                                    </div>

                                    <div class="bg-gray-100 dark:bg-gray-800 p-6 rounded-lg space-y-3">
                                        <h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100">Two-Way Data
                                            Binding</h4>
                                        <p class="text-sm text-gray-700 dark:text-gray-300">
                                            Link inputs and state using the
                                            <code
                                                class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">data-model</code>
                                            attribute.
                                        </p>
                                        <div class="bg-gray-800 rounded-lg p-3 text-sm text-gray-200">
                                            <pre class="language-html"><code class="whitespace-pre-wrap">
&lt;input data-model="email"&gt;
&lt;span data-bind="email"&gt;&lt;/span&gt;
</code></pre>
                                        </div>
                                    </div>

                                    <div class="bg-gray-100 dark:bg-gray-800 p-6 rounded-lg space-y-3">
                                        <h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100">Components
                                        </h4>
                                        <p class="text-sm text-gray-700 dark:text-gray-300">
                                            Reusable units with their own state, template, and actions.
                                        </p>
                                        <div class="bg-gray-800 rounded-lg p-3 text-sm text-gray-200">
                                            <pre class="language-javascript"><code class="whitespace-pre-wrap">
App.createComponent('login-component', {
  template: 'login-template',
  state: () => ({...}),
  actions: {...}
});
</code></pre>
                                        </div>
                                    </div>

                                    <div class="bg-gray-100 dark:bg-gray-800 p-6 rounded-lg space-y-3">
                                        <h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100">Routing</h4>
                                        <p class="text-sm text-gray-700 dark:text-gray-300">Client-side navigation
                                            between components.</p>
                                        <div class="bg-gray-800 rounded-lg p-3 text-sm text-gray-200">
                                            <pre class="language-javascript"><code class="whitespace-pre-wrap">
App.defineRoute('/login', '&lt;login-component&gt;&lt;/login-component&gt;');
App.mount('app'); // id of the mounting div
</code></pre>
                                        </div>
                                    </div>
                                </div>
                            </section>

                            <section class="rounded-xl shadow-lg border border-gray-200 dark:border-gray-700">
                                <div class="p-8">
                                    <h2 class="text-3xl font-bold text-center text-gray-900 dark:text-gray-100 mb-8">
                                        Advantages of This Approach</h2>
                                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                                        <div
                                            class="advantage bg-white dark:bg-gray-900 p-6 rounded-lg border border-gray-200 dark:border-gray-700 transition-all duration-300 hover:shadow-xl hover:scale-[1.02]">
                                            <h3
                                                class="flex items-center gap-3 text-xl font-semibold text-gray-800 dark:text-gray-200 mb-2">
                                                <span
                                                    class="p-2 rounded-full bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300">
                                                    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5"
                                                        viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                        <path d="M12 2L19 22H5L12 2Z"></path>
                                                        <path d="M12 2V22"></path>
                                                        <path d="M2 15L22 15"></path>
                                                    </svg>
                                                </span>
                                                Performance
                                            </h3>
                                            <p class="text-gray-600 dark:text-gray-400">
                                                Combines Jinja2's fast initial rendering with the smoothness of a Single
                                                Page Application (SPA).
                                            </p>
                                        </div>

                                        <div
                                            class="advantage bg-white dark:bg-gray-900 p-6 rounded-lg border border-gray-200 dark:border-gray-700 transition-all duration-300 hover:shadow-xl hover:scale-[1.02]">
                                            <h3
                                                class="flex items-center gap-3 text-xl font-semibold text-gray-800 dark:text-gray-200 mb-2">
                                                <span
                                                    class="p-2 rounded-full bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-300">
                                                    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5"
                                                        viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                        <path d="M16 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                                        <circle cx="12" cy="7" r="4"></circle>
                                                        <path d="M17 11L19 13L23 9"></path>
                                                    </svg>
                                                </span>
                                                SEO Optimized
                                            </h3>
                                            <p class="text-gray-600 dark:text-gray-400">Critical content is rendered
                                                server-side for search engines, improving discoverability.</p>
                                        </div>

                                        <div
                                            class="advantage bg-white dark:bg-gray-900 p-6 rounded-lg border border-gray-200 dark:border-gray-700 transition-all duration-300 hover:shadow-xl hover:scale-[1.02]">
                                            <h3
                                                class="flex items-center gap-3 text-xl font-semibold text-gray-800 dark:text-gray-200 mb-2">
                                                <span
                                                    class="p-2 rounded-full bg-purple-100 dark:bg-purple-900 text-purple-600 dark:text-purple-300">
                                                    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5"
                                                        viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                        <path
                                                            d="M15 4h1a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1v-14a1 1 0 0 1 1-1z">
                                                        </path>
                                                        <path
                                                            d="M9 4h1a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1v-14a1 1 0 0 1 1-1z">
                                                        </path>
                                                        <path
                                                            d="M3 4h1a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1v-14a1 1 0 0 1 1-1z">
                                                        </path>
                                                        <path
                                                            d="M21 4h-1a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1v-14a1 1 0 0 0-1-1z">
                                                        </path>
                                                    </svg>
                                                </span>
                                                Progressive
                                            </h3>
                                            <p class="text-gray-600 dark:text-gray-400">
                                                Start with Jinja2 for static content and add interactivity with Lila JS
                                                only where it's needed.
                                            </p>
                                        </div>

                                        <div
                                            class="advantage bg-white dark:bg-gray-900 p-6 rounded-lg border border-gray-200 dark:border-gray-700 transition-all duration-300 hover:shadow-xl hover:scale-[1.02]">
                                            <h3
                                                class="flex items-center gap-3 text-xl font-semibold text-gray-800 dark:text-gray-200 mb-2">
                                                <span
                                                    class="p-2 rounded-full bg-yellow-100 dark:bg-yellow-900 text-yellow-600 dark:text-yellow-300">
                                                    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5"
                                                        viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                        <circle cx="12" cy="12" r="10"></circle>
                                                        <line x1="12" y1="16" x2="12" y2="12"></line>
                                                        <line x1="12" y1="8" x2="12.01" y2="8"></line>
                                                    </svg>
                                                </span>
                                                Simple
                                            </h3>
                                            <p class="text-gray-600 dark:text-gray-400">No complex build configurations
                                                or heavy dependencies required.</p>
                                        </div>
                                    </div>
                                </div>
                            </section>

                            <section>
                                <h2 class="text-3xl font-bold text-gray-800 dark:text-white mb-6">
                                    Optimización de Recursos en Producción (Imágenes y CSS)
                                </h2>

                                <!-- OPTIMIZACIÓN DE IMÁGENES -->
                                <h3 class="text-2xl font-semibold text-gray-800 dark:text-white mt-8 mb-4">
                                    Imágenes Optimizadas con Jinja2
                                </h3>

                                <p class="text-gray-600 dark:text-gray-300 mb-6">
                                    Lila optimiza automáticamente todas las imágenes para mejorar el rendimiento
                                    y el SEO. Al usar la función <code>image()</code> en tus templates, el sistema
                                    convierte las imágenes a formato <strong>WebP</strong>, las redimensiona si
                                    es necesario y las comprime sin perder calidad visual.
                                </p>

                                <h4 class="text-xl font-semibold text-gray-800 dark:text-white mt-6 mb-3">
                                    Uso en HTML (Jinja2)
                                </h4>

                                <div class="code-editor">
                                    <div class="editor-header"><span>HTML</span></div>
                                    <div class="editor-content">
                                        <pre><code class="language-html">
&lt;img src="{{ image('img/lila.png') }}" alt="Lila" width="100" height="100" /&gt;
      </code></pre>
                                    </div>
                                </div>

                                <h4 class="text-xl font-semibold text-gray-800 dark:text-white mt-6 mb-3">
                                    Qué sucede automáticamente
                                </h4>

                                <ul class="list-disc list-inside text-gray-600 dark:text-gray-300 space-y-2">
                                    <li>La imagen se convierte a <strong>WebP</strong>.</li>
                                    <li>Si supera los 1920px de ancho, se redimensiona.</li>
                                    <li>Se comprime con calidad optimizada.</li>
                                    <li>Se guarda en caché para futuros accesos.</li>
                                </ul>

                                <!-- OPTIMIZACIÓN DE CSS -->
                                <h3 class="text-2xl font-semibold text-gray-800 dark:text-white mt-10 mb-4">
                                    Minificación Automática de CSS
                                </h3>

                                <p class="text-gray-600 dark:text-gray-300 mb-6">
                                    La función <code>public()</code> detecta automáticamente si existe una versión
                                    minificada de tu archivo CSS. Si no existe, la genera automáticamente para
                                    mejorar la velocidad de carga y el SEO.
                                </p>

                                <h4 class="text-xl font-semibold text-gray-800 dark:text-white mt-6 mb-3">
                                    Uso en HTML (Jinja2)
                                </h4>

                                <div class="code-editor">
                                    <div class="editor-header"><span>HTML</span></div>
                                    <div class="editor-content">
                                        <pre><code class="language-html">
&lt;link rel="stylesheet" href="{{ public('css/lila.css') }}" /&gt;
      </code></pre>
                                    </div>
                                </div>

                                <h4 class="text-xl font-semibold text-gray-800 dark:text-white mt-6 mb-3">
                                    Comportamiento Automático
                                </h4>

                                <ul class="list-disc list-inside text-gray-600 dark:text-gray-300 space-y-2">
                                    <li>Si existe <code>lila.min.css</code>, se usa automáticamente.</li>
                                    <li>Si no existe, se genera en tiempo real.</li>
                                    <li>Los archivos minificados cargan más rápido.</li>
                                </ul>

                                <!-- CONTEXTO BASE -->
                                <h3 class="text-2xl font-semibold text-gray-800 dark:text-white mt-10 mb-4">
                                    Inyección de Contexto Base
                                </h3>

                                <p class="text-gray-600 dark:text-gray-300 mb-6">
                                    Todo el sistema de optimización funciona gracias al contexto base que se
                                    inyecta automáticamente a los templates Jinja2:
                                </p>

                                <div class="code-editor">
                                    <div class="editor-header"><span>Python</span></div>
                                    <div class="editor-content">
                                        <pre><code class="language-python">
def get_base_context(request, files_translate=[], lang_default=None):
    context = {
        "title": TITLE_PROJECT,
        "version": VERSION_PROJECT,
        "lang": lang_default if lang_default else lang(request),
        "translate": t("translations", request, lang_default=lang_default),
        "image": image,
        "static": public,
        "public": public
    }

    for file_name in files_translate:
        context["translate"].update(
            t(file_name, request, lang_default=lang_default)
        )

    return context
      </code></pre>
                                    </div>
                                </div>

                                <!-- BENEFICIOS -->
                                <h3 class="text-2xl font-semibold text-gray-800 dark:text-white mt-10 mb-4">
                                    Beneficios de Rendimiento y SEO
                                </h3>

                                <ul class="list-disc list-inside text-gray-600 dark:text-gray-300 space-y-2">
                                    <li>✅ Carga de páginas más rápida</li>
                                    <li>✅ Reducción de peso de archivos</li>
                                    <li>✅ Mejor puntaje en Google Lighthouse</li>
                                    <li>✅ Imágenes automáticas en WebP</li>
                                    <li>✅ Optimización SEO transparente</li>
                                    <li>✅ Sin configuración manual</li>
                                </ul>
                            </section>

                        </article>

                        <hr class="my-10 border-gray-300 dark:border-gray-700" />

                        <article id="session-esp" class="space-y-6 md:space-y-8 py-8">
                            <h1 class="text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100">Gestión de
                                Sesiones</h1>
                            <p class="text-lg text-gray-700 dark:text-gray-300">
                                Lila proporciona un sistema de gestión de sesiones simple pero potente construido sobre
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">itsdangerous</code>
                                para datos de sesión firmados criptográficamente. Esto asegura que los datos de sesión
                                no puedan ser manipulados en el lado del cliente.
                            </p>
                            <p class="text-gray-700 dark:text-gray-300">
                                La clase
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">Session</code>
                                proporciona un conjunto de métodos estáticos para manejar los datos de la sesión.
                            </p>

                            <h2 class="text-2xl font-semibold text-gray-900 dark:text-gray-100">Establecer Datos de
                                Sesión
                            </h2>
                            <p class="text-gray-700 dark:text-gray-300">
                                El método
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">setSession</code>
                                se utiliza para almacenar datos de sesión en una cookie. Puede manejar cadenas,
                                diccionarios y listas, que se serializan automáticamente a JSON.
                            </p>
                            <div class="bg-gray-800 rounded-xl shadow-lg overflow-hidden border border-gray-700">
                                <div class="flex items-center gap-2 px-4 py-3 bg-gray-900 border-b border-gray-700">
                                    <div class="size-3 rounded-full bg-red-500"></div>
                                    <div class="size-3 rounded-full bg-yellow-400"></div>
                                    <div class="size-3 rounded-full bg-green-500"></div>
                                    <span class="ml-auto text-sm font-semibold text-gray-300">ejemplo de
                                        setSession</span>
                                </div>
                                <div class="overflow-x-auto p-4 md:p-6 text-sm text-gray-200">
                                    <pre class="language-python">
<code class="whitespace-pre-wrap">
from lila.core.session import Session
from lila.core.responses import JSONResponse

@router.route("/set-session", methods=["GET"])
async def set_session_example(request: Request):
  response = JSONResponse({"message": "La sesión ha sido establecida"})
  session_data = {"user_id": 123, "username": "lila_user"}
  Session.setSession(new_val=session_data, response=response, name_cookie="user_session")
  return response
</code>
</pre>
                                </div>
                            </div>
                            <p class="text-gray-700 dark:text-gray-300">
                                El método
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">setSession</code>
                                acepta varios parámetros para personalizar la cookie, como
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">secure</code>,
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">samesite</code>,
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">max_age</code>,
                                etc.
                            </p>

                            <h2 class="text-2xl font-semibold text-gray-900 dark:text-gray-100">Obtener Datos de Sesión
                            </h2>
                            <p class="text-gray-700 dark:text-gray-300">
                                El método
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">getSession</code>
                                recupera los datos de sesión brutos y firmados de una cookie. Para obtener los datos sin
                                firmar y validados, use
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">getSessionValue</code>
                                o
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">unsign</code>.
                            </p>

                            <h2 class="text-2xl font-semibold text-gray-900 dark:text-gray-100">Desfirmar y Validar
                                Datos de Sesión</h2>
                            <p class="text-gray-700 dark:text-gray-300">
                                Los métodos
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">unsign</code>
                                y
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">getSessionValue</code>
                                obtienen los datos de la sesión en su forma original después de verificar la firma.
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">getSessionValue</code>
                                se recomienda porque también maneja con gracia las firmas caducadas.
                            </p>
                            <div class="bg-gray-800 rounded-xl shadow-lg overflow-hidden border border-gray-700">
                                <div class="flex items-center gap-2 px-4 py-3 bg-gray-900 border-b border-gray-700">
                                    <div class="size-3 rounded-full bg-red-500"></div>
                                    <div class="size-3 rounded-full bg-yellow-400"></div>
                                    <div class="size-3 rounded-full bg-green-500"></div>
                                    <span class="ml-auto text-sm font-semibold text-gray-300">ejemplo de
                                        getSessionValue</span>
                                </div>
                                <div class="overflow-x-auto p-4 md:p-6 text-sm text-gray-200">
                                    <pre class="language-python">
<code class="whitespace-pre-wrap">
from lila.core.session import Session

@router.route("/get-session", methods=["GET"])
async def get_session_example(request: Request):
  session_data = Session.getSessionValue(request=request, key="user_session")
  if session_data:
    return JSONResponse({"session_data": session_data})
  else:
    return JSONResponse({"message": "No se encontró sesión o la sesión es inválida/caducada."}, status_code=401)
</code>
</pre>
                                </div>
                            </div>

                            <h2 class="text-2xl font-semibold text-gray-900 dark:text-gray-100">Eliminar una Sesión</h2>
                            <p class="text-gray-700 dark:text-gray-300">
                                El método
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">deleteSession</code>
                                se utiliza para eliminar una cookie de sesión del navegador del cliente.
                            </p>
                            <div class="bg-gray-800 rounded-xl shadow-lg overflow-hidden border border-gray-700">
                                <div class="flex items-center gap-2 px-4 py-3 bg-gray-900 border-b border-gray-700">
                                    <div class="size-3 rounded-full bg-red-500"></div>
                                    <div class="size-3 rounded-full bg-yellow-400"></div>
                                    <div class="size-3 rounded-full bg-green-500"></div>
                                    <span class="ml-auto text-sm font-semibold text-gray-300">ejemplo de
                                        deleteSession</span>
                                </div>
                                <div class="overflow-x-auto p-4 md:p-6 text-sm text-gray-200">
                                    <pre class="language-python">
<code class="whitespace-pre-wrap">
from lila.core.session import Session
from lila.core.responses import JSONResponse

@router.route("/logout", methods=["GET"])
async def logout(request: Request):
  response = JSONResponse({"message": "Sesión cerrada con éxito"})
  Session.deleteSession(response=response, name_cookie="user_session")
  return response
</code>
</pre>
                                </div>
                            </div>

                            <h2 class="text-2xl font-semibold text-gray-900 dark:text-gray-100">Referencia Completa de
                                la Clase Session</h2>
                            <p class="text-gray-700 dark:text-gray-300">
                                Aquí está el código completo de la clase
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">Session</code>
                                para su referencia.
                            </p>
                            <div class="bg-gray-800 rounded-xl shadow-lg overflow-hidden border border-gray-700">
                                <div class="flex items-center gap-2 px-4 py-3 bg-gray-900 border-b border-gray-700">
                                    <div class="size-3 rounded-full bg-red-500"></div>
                                    <div class="size-3 rounded-full bg-yellow-400"></div>
                                    <div class="size-3 rounded-full bg-green-500"></div>
                                    <span class="ml-auto text-sm font-semibold text-gray-300">core/session.py</span>
                                </div>
                                <div class="overflow-x-auto p-4 md:p-6 text-sm text-gray-200">
                                    <pre class="language-python">
<code class="whitespace-pre-wrap">
import json
from app.config import SECRET_KEY
from itsdangerous import BadSignature, URLSafeTimedSerializer, SignatureExpired
from lila.core.request import Request
from typing import Any, Union, Optional, Dict, List
from lila.core.logger import Logger

serializer = URLSafeTimedSerializer(SECRET_KEY)

class Session:
  @staticmethod
  def setSession(
    new_val: str | dict | list,
    response,
    name_cookie: str = "session",
    secure: bool = True,
    samesite: str = "strict",
    max_age: int = 3600,
    domain: Optional[str] = None,
    http_only: bool = True,
    path: str = "/",
  ) -> bool:
    try:
      if isinstance(new_val, (dict, list)):
        new_val = json.dumps(new_val)
      else:
        new_val = str(new_val)

      signed_session = serializer.dumps(new_val)

      response.set_cookie(
        key=name_cookie,
        value=signed_session,
        max_age=max_age,
        expires=max_age,
        secure=secure,
        httponly=http_only,
        samesite=samesite,
        domain=domain,
        path=path,
      )
      return True
    except (TypeError, ValueError, Exception) as e:
      Logger.error(f"Error setting session: {str(e)}")
      print(f"Error session {str(e)}")
      return False

  @staticmethod
  def getSession(key: str, request: Request) -> Optional[str]:
    return request.cookies.get(key)

  @staticmethod
  def unsign(
    key: str, request: Request, max_age: Optional[int] = None
  ) -> Union[Dict, List, str, None]:
    session_data = request.cookies.get(key)
    if not session_data:
      return None

    try:
      unsigned_data = serializer.loads(session_data, max_age=max_age)
      try:
        return json.loads(unsigned_data)
      except json.JSONDecodeError:
        return unsigned_data

    except BadSignature:
      msg = f"Invalid session signature for cookie: {key}"
      print(msg)
      Logger.warning(msg)
      return None
    except Exception as e:
      msg = f"Error unsigning session: {str(e)}"
      print(msg)
      Logger.error(msg)
      return None

  @staticmethod
  def deleteSession(response, name_cookie: str) -> bool:
    try:
      response.delete_cookie(name_cookie)
      return True
    except Exception as e:
      msg = f"Error deleting session: {str(e)}"
      print(e)
      Logger.error(msg)
      return False

  @staticmethod
  def getSessionValue(
    request: Request, key: str = 'auth', max_age: Optional[int] = 3600
  ) -> Union[Dict, List, str, None]:
    session_data = request.cookies.get(key)
    if not session_data:
      return None

    try:
      unsigned_data = serializer.loads(session_data, max_age=max_age)
      try:
        return json.loads(unsigned_data)
      except json.JSONDecodeError:
        return unsigned_data

    except BadSignature:
      msg = f"Invalid session signature for cookie: {key}"
      print(msg)
      Logger.warning(msg)
      return None
    except SignatureExpired:
      msg = f"Session expired for cookie: {key}"
      print(msg)
      Logger.warning(msg)
      return None
    except Exception as e:
      msg = f"Error unsigning session: {str(e)}"
      print(msg)
      Logger.error(msg)
      return None
</code>
</pre>
                                </div>
                            </div>
                        </article>
                        <hr />

                        <article id="upload-esp" class="mt-8 mb-8  ">
                            <h1 class="text-2xl font-semibold">Asistente de Carga de Archivos</h1>
                            <p><strong>
                                    El asistente <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">upload</code>
                                    proporciona una solución completa para manejar la carga de archivos en tu
                                    aplicación, incluyendo validación, comprobaciones de seguridad y soporte para
                                    traducciones.
                                </strong></p>

                            <p>Este asistente maneja automáticamente:
                            <ul>
                                <li>Validación del método HTTP (solo POST)</li>
                                <li>Validación de Content-Type (multipart/form-data)</li>
                                <li>Validación de la extensión del archivo</li>
                                <li>Límites de tamaño de archivo</li>
                                <li>Detección de archivos vacíos</li>
                                <li>Manejo seguro de nombres de archivo</li>
                                <li>Creación automática de directorios</li>
                                <li>Soporte de traducción para mensajes de error</li>
                            </ul>
                            </p>

                            <h2 class="text-xl">Parámetros</h2>
                            <p>La función <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">upload</code>
                                acepta estos parámetros:</p>
                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">Parámetros</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-python">
request: Request          # Objeto de solicitud de Starlette
name_file: str | list     # Nombre del campo para la carga de archivos (defecto: 'file')
UPLOAD_DIR: str           # Directorio para guardar archivos (defecto: 'uploads')
ALLOWED_EXTENSIONS: set   # Extensiones de archivo permitidas (defecto: {'txt', 'pdf', 'png', 'jpg', 'jpeg', 'gif'})
MAX_FILE_SIZE: int        # Tamaño máximo de archivo en bytes (defecto: 10MB)
            </code></pre>
                                </div>
                            </div>

                            <h2 class="text-xl">Ejemplo de Uso</h2>
                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">Implementación de Ruta</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-python">
from app.helpers.helpers import upload

@router.route("/upload", methods=["POST"])
async def uploadFile(request: Request):
    response = await upload(request=request, name_file="file")
    return response
                                    </code></pre>
                                </div>
                            </div>

                            <h2 class="text-xl">Implementación en el Frontend</h2>
                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">HTML + JavaScript</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-html">
&lt;form onsubmit="upload(event);"&gt;
    &lt;fieldset&gt;
        &lt;input type="file" name="file" required&gt;
    &lt;/fieldset&gt;
    &lt;button type="submit"&gt;
        &lt;i class="icon-check-circle"&gt;&lt;/i&gt;
        Subir Archivos
    &lt;/button&gt;
&lt;/form&gt;

&lt;script&gt;
    async function upload(event) {
        event.preventDefault();
        const formElement = event.target;
        const formData = new FormData(formElement);

        try {
            const response = await fetch('/upload', {
                method: 'POST',
                body: formData,
            });

            const result = await response.json();
            if (!response.ok) throw new Error(result.message);

            alert('¡Archivo subido con éxito!');
        } catch (error) {
            alert(error.message);
        }
    }
&lt;/script&gt;
                                    </code></pre>
                                </div>
                            </div>

                           

                            <h2 class="text-xl">Formato de Respuesta</h2>
                            <p>El asistente devuelve una JSONResponse con esta estructura:</p>
                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">Respuesta Exitosa</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-json">
{
    "file": "/uploads/filename.ext",
    "success": true,
    "message": "Archivo subido con éxito"
}
                                    </code></pre>
                                </div>
                            </div>

                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">Respuesta de Error</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-json">
{
    "error": true,
    "success": false,
    "message": "Mensaje de error en el idioma del usuario"
}
                                    </code></pre>
                                </div>
                            </div>

                            <div class="mb-8">
                             <h3 class="text-xl text-blue-500 bg-blue-100 p-4  text-center rounded">Notas Importantes</h3>
                            <p>Si utilizas windows o el archivo no se crea en el Path recuerda configurar en <code>app/config.py</code></p>
                            <div class="code-editor  mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">app/config.py</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-python">
PATH_UPLOADS = path.join(os.getcwd(), "static", "img", "uploads")

                                    </code></pre>

                            </div>
                           </div>
                           </div>
                        </article>
                        <hr />

                        <article id="markdown-esp" class="mt-8 mb-8">
                            <h1 class="text-2xl font-semibold">Markdown /HTML</h1>
                            <p>
                                Para renderizar archivos <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">markdown</code>,
                                se utiliza la función
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">renderMarkdown</code>,
                                que recibe los siguientes parámetros:
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">
            request, file: str, base_path: str='templates/markdown/', css_files: list=[], js_files: list=[], picocss: bool=False
        </code>
                            </p>

                            <p>
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">file</code>
                                es el nombre del archivo Markdown, comenzando desde <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">base_path</code>.
                                Por ejemplo: <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">index.md</code>.
                                Se buscará dentro de <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">templates/markdown/</code>.
                            </p>

                            <p>
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">css_files</code>
                                y
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">js_files</code>
                                son listas de archivos CSS y JS que se cargarán en el HTML generado.
                            </p>

                            <p>
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">picocss</code>
                                es un booleano que indica si se debe cargar el archivo de estilos PicoCSS.
                            </p>

                            <p>Ahora se puede usar <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">layout.html</code>
                                en <code>templates/markdown/</code> como plantilla base editable:</p>


                            <p>Ejemplo de un archivo Markdown con soporte bilingüe usando <code>translate</code>:</p>

                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">example.md</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre>
<code class="language-html">
# {{ translate["welcome"] }}

Este es un ejemplo simple de **Markdown**. 

## {{ translate["features"] }}
- {{ translate["easy_write"] }}
- {{ translate["convert_html"] }}
- {{ translate["supports_links"] }}

### {{ translate["example_code"] }}

\`\`\`
print("¡Hola, Markdown!")
\`\`\`
</code>
</pre>
                                </div>
                            </div>

                            <p>Código Python para renderizarlo usando <code>renderMarkdown</code>:</p>

                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">Python</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre>
<code class="language-python">
from lila.core.templates import renderMarkdown

@router.route(path='/markdown', methods=['GET'])
async def home(request: Request):
    css = ["/public/css/styles.css"]
    response = renderMarkdown(
        request=request,
        file='example',
        css_files=css,
        picocss=True
    )
    return response
</code>
</pre>
                                </div>
                            </div>
                        </article>



                        <hr />

                        <article id="locales-esp" class="mt-8 mb-8">
                            <h1 class="text-2xl font-semibold">Internacionalización (Traducciones)</h1>
                            <p>Las traducciones se utilizan para internacionalizar una aplicación y mostrar contenido en
                                diferentes idiomas. En Lila, las traducciones se almacenan en el directorio <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">app/locales</code>
                                y pueden cargarse dinámicamente en la aplicación.</p>

                            <h2 class="text-xl">Forzar Idioma Predeterminado en las Rutas</h2>
                            <p>El método <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">render</code>
                                acepta un parámetro <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">lang_default</code>
                                para forzar un idioma específico para la plantilla renderizada:</p>

                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">app.routes.py</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-python">
# Forzar idioma español
@router.route(path="/es", methods=["GET"])
async def home(request: Request):
    response = render(
        request=request,
        template="index",
        lang_default="es"  # Forzar traducciones al español
    )
    return response

# Forzar idioma inglés
@router.route(path="/en", methods=["GET"])
async def home(request: Request):
    response = render(
        request=request,
        template="index",
        lang_default="en"  # Forzar traducciones al inglés
    )
    return response
                                    </code></pre>
                                </div>
                            </div>

                            <h2 class="text-xl">Archivos de Traducción</h2>
                            <p>Para cargar un archivo de localización, utiliza la función <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">translate</code>
                                de <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">app.helpers.helpers</code>.
                                Puedes acceder a las traducciones usando:
                            </p>
                            <ul>
                                <li><code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">translate</code>
                                    - devuelve un diccionario con todas las traducciones</li>
                                <li><code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">translate_</code>
                                    - devuelve una traducción específica (devuelve el texto original si no se encuentra)
                                </li>
                            </ul>

                            <p>Ejemplo de archivo de traducción (<code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">app/locales/translations.json</code>):
                            </p>

                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">app/locales/translations.json</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-json">
{
    "Send": {
        "es": "Enviar",
        "en": "Send"
    },
    "Cancel": {
        "es": "Cancelar",
        "en": "Cancel"
    },
    "Accept": {
        "es": "Aceptar",
        "en": "Accept"
    },
    "Email": {
        "es": "Email",
        "en": "Email"
    },
    "Name": {
        "es": "Nombre",
        "en": "Name"
    },
    "Back": {
        "es": "Volver",
        "en": "Back"
    },
    "Hi": {
        "es": "Hola",
        "en": "Hi"
    }
}
                                    </code></pre>
                                </div>
                            </div>

                            <h2 class="text-xl">Uso de Traducciones</h2>
                            <p>Obtener una traducción específica:</p>

                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">example.py</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-python">
from app.helpers.helpers import translate_

msg_error_login = translate_(
    key="Incorrect email or password", 
    request=request, 
    file_name="guest"
)
                                    </code></pre>
                                </div>
                            </div>

                            <p>Obtener todas las traducciones de un archivo:</p>

                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">example.py</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-python">
from app.helpers.helpers import translate

all_translations = translate(
    request=request, 
    file_name="guest"
)
                                    </code></pre>
                                </div>
                            </div>
                        </article>
                        <hr />


                        <article id="models-esp" class="mt-8 mb-8">
                            <h1 class="text-2xl font-semibold">Modelos (SQLAlchemy)</h1>
                            <h5 class="text-2xl font-semibold">Los modelos se utilizan para definir la estructura de los
                                datos en la aplicación.
                            </h5>
                            <p>
                                <a href="https://www.sqlalchemy.org/" target="_blank">SQLAlchemy</a> como el ORM
                                predeterminado para la gestión de bases de datos.
                                SQLAlchemy permite crear modelos de base de datos, ejecutar consultas y manejar
                                migraciones de manera eficiente.
                            </p>

                            <h2 class="text-xl">Uso de Modelos</h2>
                            <p>
                                La clase `Base`, importada de `lila.core.database`, sirve como base para todos los
                                modelos.
                                Los modelos heredan de `Base` para definir tablas de base de datos con SQLAlchemy.
                            </p>

                            <h2 class="text-xl">Ejemplo: Modelo de Usuario</h2>
                            Este ejemplo demuestra cómo crear un modelo `User` usando SQLAlchemy.
                            El modelo define una tabla `users` con columnas como `id`, `name`, `email`, `password`,
                            `token`, `active` y `created_at`.
                            </h5>
                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">app/models/user.py</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre>

        <code class="language-python">
from sqlalchemy import Table,Column,Integer,String,TIMESTAMP
from lila.core.database import Base
from app.connections import connection

class User(Base):
    __tablename__='users'
    id = Column(Integer, primary_key=True,autoincrement=True)
    name=Column( String(length=50), nullable=False)
    email=Column( String(length=50), unique=True)
    password=Column(String(length=150), nullable=False)
    token=Column(String(length=150), nullable=False)
    active=Column( Integer, nullable=False,default=1)
    created_at=Column( TIMESTAMP)

#Ejemplo de cómo usar SQLAlchemy para hacer consultas a la base de datos
    def get_all(select: str = "id,email,name", limit: int = 1000) -> list:
        query = f"SELECT {select}  FROM users WHERE active =1  LIMIT {limit}"
        result = connection.query(query=query,return_rows=True)#Devuelve filas
        return result 

#Ejemplo de cómo usar SQLAlchemy para hacer consultas a la base de datos
    def get_by_id(id: int, select="id,email,name") -> dict:
        query = f"SELECT {select}  FROM users WHERE id = :id AND active = 1 LIMIT 1"
        params = {"id": id}
        row = connection.query(query=query, params=params,return_row=True)#Devuelve fila
        return row

    #Ejemplo usando abstracción ORM en SQLAlchemy
    @classmethod
    def get_all_orm(cls, db: Session, limit: int = 1000):
        result = db.query(cls).filter(cls.active == 1).limit(limit).all()
        return result


#Ejemplo de cómo usar la clase para hacer consultas a la base de datos
users = User.get_all()
user = User.get_by_id(1)
                    </code>
                    </pre>
                                </div>
                            </div>
                            <br />
                            <p>
                                Para más detalles sobre SQLAlchemy, visita la documentación oficial:
                                <a href="https://www.sqlalchemy.org/" target="_blank">Documentación de SQLAlchemy</a>.
                            </p>
                            <article id="cli-model-generator-eng" class="mt-8 mb-8">
                                <h1>Generador de Modelos CLI</h1>
                                <h5>Genere automáticamente esqueletos de modelos de SQLAlchemy para agilizar su flujo de
                                    trabajo de desarrollo.</h5>
                                <p>
                                    El Generador de Modelos CLI es una potente herramienta de línea de comandos que crea
                                    plantillas completas de modelos de SQLAlchemy con operaciones CRUD, métodos ORM y
                                    ejemplos SQL sin procesar. Ahorra tiempo al proporcionar una estructura consistente
                                    para todos sus modelos. </p>

                                <h2>Comandos disponibles</h2>

                                <h5>Crear un nuevo modelo</h5>
                                <div class="code-editor mt-4 mb-4">
                                    <div class="editor-header">
                                        <span class="editor-title">Terminal</span>
                                        <div class="editor-controls">
                                            <div class="control close"></div>
                                            <div class="control minimize"></div>
                                            <div class="control maximum"></div>
                                        </div>
                                    </div>
                                    <div class="editor-content">
                                        <pre><code class="language-bash">python -m cli.model create --name NombreModelo
# o con nombre de tabla personalizado
python -m cli.model create --name Producto --table products</code></pre>
                                    </div>
                                </div>

                                <h5>Enumerar todos los modelos</h5>
                                <div class="code-editor mt-4 mb-4">
                                    <div class="editor-header">
                                        <span class="editor-title">Terminal</span>
                                        <div class="editor-controls">
                                            <div class="control close"></div>
                                            <div class="control minimize"></div>
                                            <div class="control maximum"></div>
                                        </div>
                                    </div>
                                    <div class="editor-content">
                                        <pre><code class="language-bash">python -m cli.model list-models</code></pre>
                                    </div>
                                </div>

                                <h2>Estructura del modelo generado</h2>
                                <p>
                                    Cada modelo generado incluye columnas básicas (id, name, active, created_at) y
                                    métodos CRUD completos.
                                    El modelo también incluye comentarios con ejemplos de todos los tipos de columnas
                                    disponibles. </p>

                                <div class="code-editor mt-4 mb-4">
                                    <div class="editor-header">
                                        <span class="editor-title">app/models/product.py</span>
                                        <div class="editor-controls">
                                            <div class="control close"></div>
                                            <div class="control minimize"></div>
                                            <div class="control maximum"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-python">from sqlalchemy import Column, Integer, String, TIMESTAMP, func
from sqlalchemy.orm import Session, load_only
from core.database import Base
from app.connections import connection

class Product(Base):
    __tablename__ = "products"
    
    id = Column(Integer, primary_key=True, autoincrement=True)
    name = Column(String(length=100), nullable=False)
    active = Column(Integer, nullable=False, default=1)
    created_at = Column(TIMESTAMP, nullable=False, server_default=func.now())

    @classmethod
    def get_all(cls, select: str = "id,name", limit: int = 1000):
        db = connection.get_session()
        try:
            column_names = [c.strip() for c in select.split(',')]
            columns_to_load = [getattr(cls, c) for c in column_names]
            result = db.query(cls).options(load_only(*columns_to_load)).filter(cls.active == 1).limit(limit).all()
            return [{col: getattr(row, col) for col in column_names} for row in result]
        finally:
            db.close()

    @classmethod
    def get_by_id(cls, db: Session, id: int):
        return db.query(cls).filter(cls.id == id, cls.active == 1).first()

    @classmethod
    def insert(cls, db: Session, params: dict) -&gt; 'Product':
        record = cls(name=params.get("name"), active=params.get("active", 1))
        db.add(record)
        return record

    @classmethod
    def update(cls, db: Session, id: int, params: dict) -&gt; bool:
        record = cls.get_by_id(db, id)
        if record:
            for key, value in params.items():
                if hasattr(record, key):
                    setattr(record, key, value)
            return True
        return False

    @classmethod
    def delete(cls, db: Session, id: int) -&gt; bool:
        record = cls.get_by_id(db, id)
        if record:
            record.active = 0
            return True
        return False</code></pre>
                                </div>
                    </div>

                    <h2>Ejemplo de uso</h2>
                    <div class="code-editor mt-4 mb-4">
                        <div class="editor-header">
                            <span class="editor-title">Ejemplo de uso</span>
                            <div class="editor-controls">
                                <div class="control close"></div>
                                <div class="control minimize"></div>
                                <div class="control maximum"></div>
                            </div>
                        </div>
                        <div class="editor-content">
                            <pre><code class="language-python"># Obtener todos los productos
products = Product.get_all(select="id,name,price", limit=50)

# Obtener producto por ID
db = connection.get_session()
product = Product.get_by_id(db, 1)

# Insertar nuevo producto
new_product = Product.insert(db, {"name": "Laptop", "price": 999.99})
db.commit()

# Actualizar producto
Product.update(db, 1, {"name": "Gaming Laptop"})
db.commit()

# Eliminación temporal
Product.delete(db, 1)
db.commit()
db.close()</code></pre>
                        </div>
                    </div>

                    <h2>Flujo de trabajo completo</h2>
                    <ol>
                        <li>Crear el modelo: <code>python -m cli.model create --name Producto</code></li>
                        <li>Edita <code>app/models/product.py</code> para agregar columnas personalizadas</li>
                        <li>Importa el modelo en <code>cli/migrations.py</code>:
                            <code>from app.models.product import Product</code>
                        </li>
                        <li>Ejecuta migraciones: <code>python -m cli.migrations migrate</code></li>


                        <br>


                        </article>

                        </article>
                        <hr />

                        <article id="middlewares-esp" class="mt-8 mb-8">
                            <h1 class="text-2xl font-semibold">Middlewares</h1>
                            <h5 class="text-2xl font-semibold">
                                Las funciones de middleware se utilizan para interceptar solicitudes antes de que
                                lleguen a la lógica principal de la aplicación.
                                En Lila, los middlewares se definen en el directorio <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">app/middlewares</code>
                                (se puede modificar a cualquier archivo y/o directorio).
                                Los middlewares se pueden utilizar para tareas como autenticación, registro y manejo de
                                errores.
                            </h5>
                            <p>
                                Por defecto, Lila viene con 3 middlewares para iniciar cualquier aplicación. Los
                                middlewares se pueden usar con decoradores <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">@my_middleware</code>.
                            </p>
                            <p>
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">login_required</code>,
                                para validar que tienes una sesión firmada, para la clave 'auth' que se pasa como
                                parámetro para poder modificarla a tu gusto.
                                Si no se encuentra esta sesión, redirige a la URL que se pasa como parámetro, por
                                defecto, es <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">"/login"</code>.
                                De lo contrario, continuará su curso ejecutando la ruta o función.
                            </p>
                            <p>
                                Luego tenemos <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">session_active</code>,
                                que se utiliza para verificar si tienes una sesión activa.
                                Redirigirá a la URL que se recibe como parámetro, por defecto, es <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">"/dashboard"</code>.
                            </p>
                            <p>
                                El tercero es <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">validate_token</code>,
                                que se utiliza para validar un token JWT gracias a los helpers <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">get_token</code>
                                importados en <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">from app.helpers.helpers import get_token</code>.
                            </p>
                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">app/middlewares/middlewares.py</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre>

            <code class="language-python">
from lila.core.session import Session
from lila.core.responses import RedirectResponse,JSONResponse
from lila.core.request import Request
from functools import wraps
from app.helpers.helpers import get_token

def login_required(func,key:str='auth',url_return='/login'):
    @wraps(func)
    async def wrapper(request, *args, **kwargs):
        session_data= Session.unsign(key=key,request=request)
        if not session_data:
            return RedirectResponse(url=url_return)
        return await func(request,*args,**kwargs)
    return wrapper

def session_active(func,key:str='auth',url_return:str ='/dashboard'):
    @wraps(func)
    async def wrapper(request,*args,**kwargs):
        session_data= Session.unsign(key=key,request=request)
        if session_data:
            return RedirectResponse(url=url_return)
        return await func(request,*args,**kwargs)
    return wrapper

def validate_token(func):
    @wraps(func)
    async def wrapper(request: Request, *args, **kwargs):
        await check_token(request=request)
        return await func(request, *args, **kwargs)

    return wrapper


async def check_token(request:Request):
    token = request.headers.get('Authorization')
    if not token:
        return JSONResponse({'session':False,'message': 'Invalid token'},status_code=401)
    
    token = get_token(token=token)
    if isinstance(token,JSONResponse):
        return token

            </code>
            </pre>
                                </div>
                            </div>

                            <br />
                            <h5 class="text-2xl font-semibold">
                                Aquí te damos varios ejemplos de cómo usar los 3, con los decoradores.
                            </h5>

                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">Middlewares en rutas</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">

                                    <pre>
                        <code class="language-python">
#Middleware para validar el Token JWT.
@router.route(path='/api/token', methods=['GET','POST'])
@validate_token #Middleware
async def api_token(request: Request):
    """Función Api Token"""
    print(get_user_by_id_and_token(request=request))
    return JSONResponse({'api': True})

#Middleware para validar sesión activa
@router.route(path='/dashboard', methods=['GET'])
@login_required #Middleware
async def dashboard(request: Request):
    response = render(request=request, template='dashboard', files_translate=['authenticated'])
    return response


#Middleware para validar si el usuario tiene sesión activa (si el usuario tiene sesión redirige a '/dashboard')
@router.route(path='/login', methods=['GET'])
@session_active  #Middleware
async def login(request: Request):
    response = render(request=request, template='auth/login', files_translate=['guest'])
    return response


                        </code>
                    </pre>
                                </div>
                            </div>

                            <h2 class="text-xl">Middleware de Seguridad</h2>
                            <p>
                                Lila Framework incluye un <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">ErrorHandlerMiddleware</code>
                                incorporado que no solo maneja excepciones no controladas, sino que también proporciona
                                robustas comprobaciones de seguridad para proteger tu aplicación de solicitudes
                                maliciosas. Este middleware está diseñado para bloquear IPs, URLs y rutas sensibles
                                sospechosas, asegurando que tu aplicación permanezca segura.
                            </p>
                            <h3>Características</h3>
                            <ul>
                                <li>
                                    <strong>Bloqueo de IP</strong>:
                                    Bloquea direcciones IP que han sido marcadas por actividad maliciosa. Las IPs se
                                    bloquean por 6 horas por defecto.
                                </li>
                                <li>
                                    <strong>Bloqueo de URL</strong>:
                                    Bloquea URLs específicas que se sabe que son maliciosas o sospechosas.
                                </li>
                                <li>
                                    <strong>Bloqueo de Rutas Sensibles</strong>:
                                    Bloquea el acceso a rutas sensibles como <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">/etc/passwd</code>,
                                    <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">.env</code>,
                                    y otras.
                                </li>
                                <li>
                                    <strong>Bloqueo de Extensiones Maliciosas</strong>:
                                    Bloquea URLs que contienen extensiones de archivo maliciosas como <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">.php</code>,
                                    <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">.asp</code>,
                                    <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">.jsp</code>,
                                    y <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">.aspx</code>.
                                </li>
                                <li>
                                    <strong>Detección de HTTP</strong>:
                                    Bloquea solicitudes que contienen <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">"http"</code>
                                    en los parámetros de consulta o en el contenido del cuerpo.
                                </li>
                            </ul>
                            <h3>Configuración</h3>
                            <p>
                                El middleware utiliza tres archivos JSON ubicados en el directorio <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">app/security</code>:
                            </p>
                            <ul>
                                <li><code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">blocked_ips.json</code>:
                                    Almacena IPs bloqueadas con su tiempo de expiración.</li>
                                <li><code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">blocked_urls.json</code>:
                                    Almacena URLs bloqueadas con su tiempo de expiración.</li>
                                <li><code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">sensitive_paths.json</code>:
                                    Almacena una lista de rutas sensibles para bloquear.</li>
                            </ul>
                            <p>
                                Si estos archivos no existen, se crean automáticamente y se inicializan con valores
                                predeterminados:
                            </p>
                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">security/sensitive_paths.json</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-json">
[
    "/etc/passwd",
    ".env",
    "wp-content",
    "docker/.env",
    "owa/auth/logon.aspx",
    "containers/json",
    "models",
    "autodiscover/autodiscover.json",
    "heapdump",
    "actuator/heapdump",
    "cgi-bin/vitogate.cgi",
    "CFIDE/wizards/common/utils.cfc",
    "var/www/html/.env",
    "home/user/.muttrc",
    "usr/local/spool/mail/root",
    "etc/postfix/master.cf"
]
                                    </code></pre>
                                </div>
                            </div>
                            <h3>Uso</h3>
                            <p>
                                El <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">ErrorHandlerMiddleware</code>
                                se aplica automáticamente a todas las solicitudes. Puedes personalizar su comportamiento
                                modificando los archivos JSON en el directorio <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">security</code>.
                            </p>
                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">core/middleware.py</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-python">
from starlette.middleware.base import BaseHTTPMiddleware
from lila.core.responses import JSONResponse, HTMLResponse
from lila.core.request import Request
from lila.core.logger import Logger
from datetime import datetime, timedelta
import json
import os

def load_blocked_data(file_path, default_value):
try:
if not os.path.exists(file_path):
    with open(file_path, "w") as file:
        json.dump(default_value, file, indent=4)
    return default_value

with open(file_path, "r") as file:
    content = file.read().strip()
    if not content:
        with open(file_path, "w") as file:
            json.dump(default_value, file, indent=4)
        return default_value

    try:
        return json.loads(content)
    except json.JSONDecodeError:
        with open(file_path, "w") as file:
            json.dump(default_value, file, indent=4)
        return default_value

except Exception as e:
Logger.error(f"Error loading {file_path}: {str(e)}")
return default_value

def save_blocked_data(file_path, data):
try:
with open(file_path, "w") as file:
    json.dump(data, file, indent=4)
except Exception as e:
Logger.error(f"Error saving {file_path}: {str(e)}")

async def is_blocked(blocked_data, key, request: Request):
if key in blocked_data:
expiration_time = datetime.fromisoformat(blocked_data[key]["expiration_time"])
if datetime.now() < expiration_time:
    req = await Logger.request(request=request)
    Logger.warning(f"Blocked: {key} \n {req}")
    return True
return False

class ErrorHandlerMiddleware(BaseHTTPMiddleware):
def __init__(
self,
app,
blocked_ips_file="security/blocked_ips.json",
blocked_urls_file="security/blocked_urls.json",
sensitive_paths_file="security/sensitive_paths.json",
):
super().__init__(app)
self.blocked_ips_file = blocked_ips_file
self.blocked_urls_file = blocked_urls_file
self.sensitive_paths_file = sensitive_paths_file

self.blocked_ips = load_blocked_data(blocked_ips_file, default_value={})
self.blocked_urls = load_blocked_data(blocked_urls_file, default_value={})
self.sensitive_paths = load_blocked_data(sensitive_paths_file, default_value=[])

async def dispatch(self, request, call_next):
try:
    client_ip = request.client.host
    url_path = request.url.path
    query_params = str(request.query_params)
    body = await request.body()

    if await is_blocked(self.blocked_ips, client_ip, request=request):
        return HTMLResponse(
            content="<h1 class="text-2xl font-semibold">Access Denied</h1><p>Your IP has been temporarily blocked.</p>",
            status_code=403,
        )

    if await is_blocked(self.blocked_urls, url_path, request=request):
        return HTMLResponse(
            content="<h1 class="text-2xl font-semibold">Access Denied</h1><p>This URL has been temporarily blocked.</p>",
            status_code=403,
        )

    malicious_extensions = [".php", ".asp", ".jsp", ".aspx"]
    if any(ext in url_path for ext in malicious_extensions):
        self.blocked_ips[client_ip] = {
            "expiration_time": (datetime.now() + timedelta(hours=6)).isoformat()
        }
        save_blocked_data(self.blocked_ips_file, self.blocked_ips)
        return HTMLResponse(
            content="<h1 class="text-2xl font-semibold">Access Denied</h1><p>Malicious URL detected.</p>",
            status_code=403,
        )

    if "http" in query_params or "http" in str(body):
        self.blocked_ips[client_ip] = {
            "expiration_time": (datetime.now() + timedelta(hours=6)).isoformat()
        }
        save_blocked_data(self.blocked_ips_file, self.blocked_ips)
        return HTMLResponse(
            content="<h1 class="text-2xl font-semibold">Access Denied</h1><p>Malicious query parameters detected.</p>",
            status_code=403,
        )

    if any(path in url_path or path in str(body) for path in self.sensitive_paths):
        self.blocked_ips[client_ip] = {
            "expiration_time": (datetime.now() + timedelta(hours=6)).isoformat()
        }
        save_blocked_data(self.blocked_ips_file, self.blocked_ips)
        return HTMLResponse(
            content="<h1 class="text-2xl font-semibold">Access Denied</h1><p>Sensitive path detected.</p>",
            status_code=403,
        )

    Logger.info(await Logger.request(request=request))
    response = await call_next(request)
    return response

except Exception as e:
    Logger.error(f"Unhandled Error: {str(e)}")
    return JSONResponse(
        {"error": "Internal Server Error", "success": False}, status_code=500
    )
                                    </code></pre>
                                </div>
                            </div>
                        </article>
                        <hr />

                        <article id="cli_commands-esp" class="space-y-6 md:space-y-8 py-8">
                            <div class="space-y-4">
                                <h1 class="text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100">
                                    Referencia de Comandos CLI
                                </h1>
                                <p class="text-lg text-gray-700 dark:text-gray-300">
                                    Lila Framework proporciona potentes herramientas CLI para acelerar el desarrollo.
                                    Todos los comandos siguen
                                    el patrón
                                    <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">python -m cli.{comando}</code>
                                </p>
                            </div>

                            <!-- Model Generator -->
                            <div class="space-y-4">
                                <h2 class="text-2xl font-semibold text-gray-900 dark:text-gray-100">
                                    📦 Generador de Modelos
                                </h2>
                                <p class="text-gray-700 dark:text-gray-300">
                                    Crea modelos SQLAlchemy con métodos CRUD automáticamente.
                                </p>
                            </div>

                            <div class="bg-gray-800 rounded-xl shadow-lg overflow-hidden border border-gray-700">
                                <div class="flex items-center gap-2 px-4 py-3 bg-gray-900 border-b border-gray-700">
                                    <div class="size-3 rounded-full bg-red-500"></div>
                                    <div class="size-3 rounded-full bg-yellow-400"></div>
                                    <div class="size-3 rounded-full bg-green-500"></div>
                                    <span class="ml-auto text-sm font-semibold text-gray-300">cli.model</span>
                                </div>
                                <div class="overflow-x-auto p-4 md:p-6 text-sm text-gray-200">
                                    <pre class="language-bash">
<code class="whitespace-pre-wrap">
# Crear un nuevo modelo
python -m cli.model create --name Product

# Crear con nombre de tabla personalizado
python -m cli.model create --name Product --table products

# Listar todos los modelos
python -m cli.model list-models
</code>
</pre>
                                </div>
                            </div>

                            <!-- Scaffold Generator -->
                            <div class="space-y-4 mt-8">
                                <h2 class="text-2xl font-semibold text-gray-900 dark:text-gray-100">
                                    🏗️ Generador de Scaffold
                                </h2>
                                <p class="text-gray-700 dark:text-gray-300">
                                    Genera funcionalidad CRUD completa desde modelos existentes.
                                </p>
                            </div>

                            <div class="bg-gray-800 rounded-xl shadow-lg overflow-hidden border border-gray-700">
                                <div class="flex items-center gap-2 px-4 py-3 bg-gray-900 border-b border-gray-700">
                                    <div class="size-3 rounded-full bg-red-500"></div>
                                    <div class="size-3 rounded-full bg-yellow-400"></div>
                                    <div class="size-3 rounded-full bg-green-500"></div>
                                    <span class="ml-auto text-sm font-semibold text-gray-300">cli.scaffold_crud</span>
                                </div>
                                <div class="overflow-x-auto p-4 md:p-6 text-sm text-gray-200">
                                    <pre class="language-bash">
<code class="whitespace-pre-wrap">
# Generar scaffold desde modelo
python -m cli.scaffold_crud --model Product

# Nombre de ruta personalizado
python -m cli.scaffold_crud --model Product --name products
</code>
</pre>
                                </div>
                            </div>

                            <!-- Migrations -->
                            <div class="space-y-4 mt-8">
                                <h2 class="text-2xl font-semibold text-gray-900 dark:text-gray-100">
                                    🗄️ Migraciones
                                </h2>
                                <p class="text-gray-700 dark:text-gray-300">
                                    Ejecuta migraciones de base de datos para crear tablas desde modelos.
                                </p>
                            </div>

                            <div class="bg-gray-800 rounded-xl shadow-lg overflow-hidden border border-gray-700">
                                <div class="flex items-center gap-2 px-4 py-3 bg-gray-900 border-b border-gray-700">
                                    <div class="size-3 rounded-full bg-red-500"></div>
                                    <div class="size-3 rounded-full bg-yellow-400"></div>
                                    <div class="size-3 rounded-full bg-green-500"></div>
                                    <span class="ml-auto text-sm font-semibold text-gray-300">cli.migrations</span>
                                </div>
                                <div class="overflow-x-auto p-4 md:p-6 text-sm text-gray-200">
                                    <pre class="language-bash">
<code class="whitespace-pre-wrap">
# Ejecutar migraciones
python -m cli.migrations migrate

# Refrescar (eliminar y recrear todas las tablas)
python -m cli.migrations migrate --refresh
</code>
</pre>
                                </div>
                            </div>

                            <!-- Auth -->
                            <div class="space-y-4 mt-8">
                                <h2 class="text-2xl font-semibold text-gray-900 dark:text-gray-100">
                                    🔐 Autenticación
                                </h2>
                                <p class="text-gray-700 dark:text-gray-300">
                                    Genera sistema de autenticación con login, registro y recuperación de contraseña.
                                </p>
                            </div>

                            <div class="bg-gray-800 rounded-xl shadow-lg overflow-hidden border border-gray-700">
                                <div class="flex items-center gap-2 px-4 py-3 bg-gray-900 border-b border-gray-700">
                                    <div class="size-3 rounded-full bg-red-500"></div>
                                    <div class="size-3 rounded-full bg-yellow-400"></div>
                                    <div class="size-3 rounded-full bg-green-500"></div>
                                    <span class="ml-auto text-sm font-semibold text-gray-300">cli.auth</span>
                                </div>
                                <div class="overflow-x-auto p-4 md:p-6 text-sm text-gray-200">
                                    <pre class="language-bash">
<code class="whitespace-pre-wrap">
# Generar sistema de autenticación
python -m cli.auth main
</code>
</pre>
                                </div>
                            </div>

                            <!-- Admin Panel -->
                            <div class="space-y-4 mt-8">
                                <h2 class="text-2xl font-semibold text-gray-900 dark:text-gray-100">
                                    👤 Panel de Administración
                                </h2>
                                <p class="text-gray-700 dark:text-gray-300">
                                    Crea usuarios administradores y panel de administración.
                                </p>
                            </div>

                            <div class="bg-gray-800 rounded-xl shadow-lg overflow-hidden border border-gray-700">
                                <div class="flex items-center gap-2 px-4 py-3 bg-gray-900 border-b border-gray-700">
                                    <div class="size-3 rounded-full bg-red-500"></div>
                                    <div class="size-3 rounded-full bg-yellow-400"></div>
                                    <div class="size-3 rounded-full bg-green-500"></div>
                                    <span class="ml-auto text-sm font-semibold text-gray-300">cli.create_admin</span>
                                </div>
                                <div class="overflow-x-auto p-4 md:p-6 text-sm text-gray-200">
                                    <pre class="language-bash">
<code class="whitespace-pre-wrap">
# Crear usuario administrador
python -m cli.create_admin --password mypassword

# Crear panel de administración
python -m cli.create_panel_admin --password mypassword
</code>
</pre>
                                </div>
                            </div>

                            <!-- Minify -->
                            <div class="space-y-4 mt-8">
                                <h2 class="text-2xl font-semibold text-gray-900 dark:text-gray-100">
                                    ⚡ Minificar Assets
                                </h2>
                                <p class="text-gray-700 dark:text-gray-300">
                                    Minifica archivos CSS y JavaScript para producción.
                                </p>
                            </div>

                            <div class="bg-gray-800 rounded-xl shadow-lg overflow-hidden border border-gray-700">
                                <div class="flex items-center gap-2 px-4 py-3 bg-gray-900 border-b border-gray-700">
                                    <div class="size-3 rounded-full bg-red-500"></div>
                                    <div class="size-3 rounded-full bg-yellow-400"></div>
                                    <div class="size-3 rounded-full bg-green-500"></div>
                                    <span class="ml-auto text-sm font-semibold text-gray-300">cli.minify</span>
                                </div>
                                <div class="overflow-x-auto p-4 md:p-6 text-sm text-gray-200">
                                    <pre class="language-bash">
<code class="whitespace-pre-wrap">
# Minificar todos los archivos CSS y JS
python -m cli.minify
</code>
</pre>
                                </div>
                            </div>

                            <!-- React -->
                            <div class="space-y-4 mt-8">
                                <h2 class="text-2xl font-semibold text-gray-900 dark:text-gray-100">
                                    ⚛️ Integración con React
                                </h2>
                                <p class="text-gray-700 dark:text-gray-300">
                                    Configura entorno de desarrollo React con backend Lila.
                                </p>
                            </div>

                            <div class="bg-gray-800 rounded-xl shadow-lg overflow-hidden border border-gray-700">
                                <div class="flex items-center gap-2 px-4 py-3 bg-gray-900 border-b border-gray-700">
                                    <div class="size-3 rounded-full bg-red-500"></div>
                                    <div class="size-3 rounded-full bg-yellow-400"></div>
                                    <div class="size-3 rounded-full bg-green-500"></div>
                                    <span class="ml-auto text-sm font-semibold text-gray-300">cli.react</span>
                                </div>
                                <div class="overflow-x-auto p-4 md:p-6 text-sm text-gray-200">
                                    <pre class="language-bash">
<code class="whitespace-pre-wrap">
# Configurar React con Vite
python -m cli.react vite

# Configurar React con Next.js
python -m cli.react nextjs
</code>
</pre>
                                </div>
                            </div>
                        </article>
                        <hr />
                        <article id="connections-esp" class="mt-8 mb-8">
                            <h1 class="text-2xl font-semibold">Conexiones a la base de datos</h1>
                            <p>
                                Para usar conexiones, necesitas importar la clase <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">Database</code>
                                de lila.core.database. Con eso puedes conectarte a tu base de datos, que puede ser
                                SQLite, MySQL, PostgreSQL o lo que quieras configurar.
                            <p>A continuación te dejamos el ejemplo de cómo conectarte. La conexión se cerrará
                                automáticamente después de ser utilizada, por lo que puedes usarla como en este ejemplo
                                en la variable <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">connection</code>
                            </p>
                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">app/connections.py</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre>

            <code class="language-python">
from lila.core.database import Database

#SQLite

#Ejemplo de conexión a una base de datos sqlite
config = {"type":"sqlite","database":"test"} #test.db
connection = Database(config=config)
connection.connect()

#MySql

#Ejemplo de conexión a una base de datos mysql
config = {"type":"mysql","host":"127.0.0.1","user":"root","password":"password","database":"db_test","auto_commit":True}
connection = Database(config=config)
connection.connect()
mysql_connection = connection


                </code>
                </pre>
                                </div>
                            </div>

                        </article>
                        <hr />

                        <article id="migrations-esp" class="mt-8 mb-8">
                            <h1 class="text-2xl font-semibold">Migraciones</h1>
                            <p>En Lila Framework, las migraciones de bases de datos se pueden gestionar usando
                                SQLAlchemy y la configuración de Lila para hacer las migraciones lo más fácil posible.
                                El framework ahora soporta migraciones por línea de comandos a través de Typer,
                                proporcionando una forma más intuitiva y flexible de gestionar tu esquema de base de
                                datos.
                            </p>
                            <br />

                            <h2 class="text-xl">Métodos de Migración</h2>
                            <p>Hay dos formas principales de definir las tablas de la base de datos:</p>

                            <h3>1. Usando Table</h3>
                            <p>Este método define manualmente la estructura de la tabla usando el objeto Table de
                                SQLAlchemy.</p>

                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">cli/migrations.py</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-python">
from sqlalchemy import Table, Column, Integer, String, TIMESTAMP
from app.connections import connection
import typer
import asyncio

app = typer.Typer()

# Ejemplo de creación de migraciones para 'users'
table_users = Table(
    'users', connection.metadata,
    Column('id', Integer, primary_key=True, autoincrement=True),
    Column('name', String(length=50), nullable=False),
    Column('email', String(length=50), unique=True),
    Column('password', String(length=150), nullable=False),
    Column('token', String(length=150), nullable=False),
    Column('active', Integer, default=1, nullable=False),
    Column('created_at', TIMESTAMP),
)

async def migrate_async(connection, refresh: bool = False) -> bool:
    try:
        if refresh:
            connection.metadata.drop_all(connection.engine)
        connection.prepare_migrate([table_users])  # para tablas
        connection.migrate()
        print("Migraciones completadas")
        return True
    except RuntimeError as e:
        print(e)
        return False

@app.command()
def migrate(refresh: bool = False):
    """Ejecutar migraciones de base de datos"""
    success = asyncio.run(migrate_async(connection, refresh))
    if not success:
        raise typer.Exit(code=1)

if __name__ == "__main__":
    app()
                                    </code></pre>
                                </div>
                            </div>

                            <h3>2. Usando Modelos (Recomendado)</h3>
                            <p>Este enfoque define las tablas de la base de datos como clases de Python que heredan de
                                "Base".
                                Este es el método recomendado ya que proporciona más estructura y capacidades ORM.</p>

                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">app/models/user.py</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-python">
from lila.core.database import Base
from sqlalchemy import Column, Integer, String, TIMESTAMP

class User(Base):
    __tablename__ = 'users'
    id = Column(Integer, primary_key=True, autoincrement=True)
    name = Column(String(length=50), nullable=False)
    email = Column(String(length=50), unique=True)
    password = Column(String(length=150), nullable=False)
    token = Column(String(length=150), nullable=False)
    active = Column(Integer, nullable=False, default=1)
    created_at = Column(TIMESTAMP)
                                    </code></pre>
                                </div>
                            </div>

                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">cli/migrations.py (Versión de Modelos)</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-python">
from app.connections import connection
from lila.core.database import Base  # Importar Base para migraciones en modelos
from app.models.user import User  # Importar modelos para migraciones
import typer
import asyncio

app = typer.Typer()

async def migrate_async(connection, refresh: bool = False) -> bool:
    try:
        if refresh:
            connection.metadata.drop_all(connection.engine)
        connection.migrate(use_base=True)  # para modelos
        print("Migraciones completadas")
        return True
    except RuntimeError as e:
        print(e)
        return False

@app.command()
def migrate(refresh: bool = False):
    """Ejecutar migraciones de base de datos"""
    success = asyncio.run(migrate_async(connection, refresh))
    if not success:
        raise typer.Exit(code=1)

if __name__ == "__main__":
    app()
                                    </code></pre>
                                </div>
                            </div>

                            <h2 class="text-xl">Ejecutando Migraciones</h2>
                            <p>Para ejecutar las migraciones, usa el siguiente comando en tu código:</p>

                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">Comando de Terminal</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-bash">
# Migración básica
python -m cli.migrations 

# Refrescar todas las tablas (eliminar y recrear)
python -m cli.migrations --refresh
                                    </code></pre>
                                </div>
                            </div>

                            <h3>Opciones de Comando</h3>
                            <ul>
                                <li><code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">migrate</code>:
                                    Ejecuta las migraciones de la base de datos</li>
                                <li><code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">--refresh</code>:
                                    Flag opcional para eliminar y recrear todas las tablas</li>
                            </ul>

                            <div class="note">
                                <p><strong>Nota:</strong> Cuando uses Modelos, asegúrate de importar todas tus clases de
                                    modelos en el archivo de migraciones para que SQLAlchemy pueda detectarlos para las
                                    migraciones.</p>
                            </div>
                        </article>
                        <hr />
                        <article id="auth-esp" class="mt-8 mb-8">
                            <h1 class="text-2xl font-semibold">Auth Scaffold</h1>
                            <p>
                                En Lila Framework, ahora puedes generar automáticamente todas las rutas, templates,
                                modelos y
                                middlewares de autenticación con un solo comando. Esto te permite configurar login,
                                registro,
                                recuperación de contraseña y dashboard sin crear archivos a mano.
                            </p>
                            <br />

                            <h2 class="text-xl">Características</h2>
                            <ul class="list-disc ml-6">
                                <li>Genera rutas: <code>/login</code>, <code>/register</code>,
                                    <code>/forgot-password</code>,
                                    <code>/invalid-token</code>, <code>/change-password</code>
                                </li>
                                <li>Crea las páginas de <code>dashboard</code> y <code>profile</code></li>
                                <li>Incluye middlewares, sesiones y validaciones usando <strong>Pydantic</strong></li>
                                <li>Actualiza automáticamente <code>main.py</code> y <code>cli/migrations.py</code></li>
                            </ul>

                            <h2 class="text-xl mt-4">Ejecutando el Auth Scaffold</h2>
                            <p>Usa el siguiente comando en tu terminal:</p>

                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">Comando Terminal</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-bash">
# Ejecuta el scaffold de auth para generar rutas, templates, modelos y middlewares
python -m cli.auth
      </code></pre>
                                </div>
                            </div>

                            <h2 class="text-xl mt-4">Archivos y Estructura Generados</h2>
                            <p>El scaffold creará/actualizará:</p>
                            <ul class="list-disc ml-6">
                                <li><strong>Templates:</strong> login, register, forgot-password, change-password</li>
                                <li><strong>Modelos:</strong> actualiza <code>User</code> y crea <code>AuthModel</code>
                                </li>
                                <li><strong>Rutas y funciones:</strong> manejadores para cada template/acción</li>
                                <li><strong>Middlewares:</strong> gestión de sesiones y validaciones</li>
                            </ul>

                        </article>


                        <hr />
                        <article id="scaffold_crud-esp" class="space-y-6 md:space-y-8 py-8">
                            <div class="space-y-4">
                                <h1 class="text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100">
                                    Generador de Scaffold CLI
                                </h1>
                                <p class="text-lg text-gray-700 dark:text-gray-300">
                                    Genera funcionalidad CRUD completa desde modelos existentes con un solo comando. El
                                    generador de scaffold
                                    crea rutas, plantillas y automáticamente importa todo en tu aplicación.
                                </p>
                            </div>

                            <div class="space-y-4">
                                <h2 class="text-2xl font-semibold text-gray-900 dark:text-gray-100">
                                    Uso Básico
                                </h2>
                                <p class="text-gray-700 dark:text-gray-300">
                                    Primero, crea tu modelo usando el CLI de modelos, luego genera el scaffold:
                                </p>
                            </div>

                            <div class="bg-gray-800 rounded-xl shadow-lg overflow-hidden border border-gray-700">
                                <div class="flex items-center gap-2 px-4 py-3 bg-gray-900 border-b border-gray-700">
                                    <div class="size-3 rounded-full bg-red-500"></div>
                                    <div class="size-3 rounded-full bg-yellow-400"></div>
                                    <div class="size-3 rounded-full bg-green-500"></div>
                                    <span class="ml-auto text-sm font-semibold text-gray-300">Generador de
                                        Scaffold</span>
                                </div>
                                <div class="overflow-x-auto p-4 md:p-6 text-sm text-gray-200">
                                    <pre class="language-bash">
<code class="whitespace-pre-wrap">
# Crear un modelo primero
python -m cli.model create --name Product

 

# Generar scaffold CRUD completo
python -m cli.scaffold_crud --model Product

# Nombre de ruta personalizado
python -m cli.scaffold_crud --model Product --name products

#Ejecutar migraciones con refresh
python -m cli.migrations --refresh
</code>
</pre>
                                </div>
                            </div>

                            <div class="space-y-4">
                                <h2 class="text-2xl font-semibold text-gray-900 dark:text-gray-100">
                                    Qué se Genera
                                </h2>
                                <p class="text-gray-700 dark:text-gray-300">
                                    El generador de scaffold crea un sistema CRUD completo:
                                </p>
                                <ul class="list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300 ml-4">
                                    <li><code
                                            class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">app/routes/{name}.py</code>
                                        - Rutas CRUD completas</li>
                                    <li><code
                                            class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">templates/html/{name}/index.html</code>
                                        - DataTable con modales</li>
                                    <li>Auto-importa rutas en <code
                                            class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">main.py</code>
                                    </li>
                                </ul>
                            </div>

                            <div class="space-y-4">
                                <h2 class="text-2xl font-semibold text-gray-900 dark:text-gray-100">
                                    Endpoints Generados
                                </h2>
                                <p class="text-gray-700 dark:text-gray-300">
                                    Las siguientes rutas se crean automáticamente:
                                </p>
                            </div>

                            <div class="bg-gray-800 rounded-xl shadow-lg overflow-hidden border border-gray-700">
                                <div class="flex items-center gap-2 px-4 py-3 bg-gray-900 border-b border-gray-700">
                                    <div class="size-3 rounded-full bg-red-500"></div>
                                    <div class="size-3 rounded-full bg-yellow-400"></div>
                                    <div class="size-3 rounded-full bg-green-500"></div>
                                    <span class="ml-auto text-sm font-semibold text-gray-300">Endpoints API</span>
                                </div>
                                <div class="overflow-x-auto p-4 md:p-6 text-sm text-gray-200">
                                    <pre class="language-http">
<code class="whitespace-pre-wrap">
GET  /product              → Página HTML con DataTable
GET  /api/product          → Lista JSON de todos los productos
GET  /api/product/{id}     → Producto individual JSON
POST /api/product          → Crear nuevo producto
PUT  /api/product/{id}     → Actualizar producto
DELETE /api/product/{id}   → Borrado lógico (active=0)
</code>
</pre>
                                </div>
                            </div>

                            <div class="space-y-4">
                                <h2 class="text-2xl font-semibold text-gray-900 dark:text-gray-100">
                                    Características
                                </h2>
                                <ul class="list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300 ml-4">
                                    <li>✅ Valida que el modelo exista antes de generar</li>
                                    <li>✅ DataTable responsive con búsqueda y paginación</li>
                                    <li>✅ Modales de Crear y Editar</li>
                                    <li>✅ Funcionalidad de borrado lógico (active=0)</li>
                                    <li>✅ Ejemplos de validación Pydantic (comentados)</li>
                                    <li>✅ Soporte multilenguaje</li>
                                    <li>✅ Auto-importación en main.py</li>
                                </ul>
                            </div>

                            <div class="space-y-4">
                                <h2 class="text-2xl font-semibold text-gray-900 dark:text-gray-100">
                                    Personalización
                                </h2>
                                <p class="text-gray-700 dark:text-gray-300">
                                    Después de la generación, puedes personalizar:
                                </p>
                                <ul class="list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300 ml-4">
                                    <li>Importa en <code
                                            class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">main.py</code>
                                        la ruta generada</li>
                                    <li>Edita <code
                                            class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">app/routes/{name}.py</code>
                                        para agregar lógica de negocio</li>
                                    <li>Descomenta los modelos Pydantic para validación</li>
                                    <li>Personaliza la plantilla HTML</li>
                                    <li>Agrega middleware personalizado</li>
                                </ul>
                            </div>
                        </article>
                        <hr />
                        <article id="react">
                            <h1 class="text-2xl font-semibold">Integración de Islas React</h1>

                            <p>
                                Lila ofrece una poderosa arquitectura de "Islas React", permitiéndote incrustar componentes interactivos de React directamente en tus plantillas Jinja2.
                                Este enfoque combina lo mejor de ambos mundos: el SEO y el rendimiento del renderizado del lado del servidor con Lila, y la interactividad de React.
                            </p>

                            <h5 class="text-2xl font-semibold">Instalación</h5>
                            <p>
                                Para configurar el entorno de React en tu proyecto desde el directorio raíz, ejecuta:
                            </p>

                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">Comando CLI</span>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-bash">
python -m cli.react create
            </code></pre>
                                </div>
                            </div>

                            <p>
                                Esto generará el esquema de <code class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">package.json</code>, <code class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">vite.config.js</code> y la estructura del directorio <code class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">react/</code>.
                            </p>

                            <h5 class="text-2xl font-semibold">Uso</h5>
                            <p>
                                Una vez instalado, puedes usar los nuevos ayudantes de Jinja2 <code class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">vite_assets()</code> y <code class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">react()</code>.
                            </p>

                            <ul class="list-disc ml-6 mt-4 mb-4">
                                <li><strong>vite_assets()</strong>: Inyecta las etiquetas de script necesarias. En modo <code class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">DEBUG=True</code>, se conecta al servidor de desarrollo de Vite (HMR). En producción, carga los activos optimizados desde <code class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">public/build</code>.</li>
                                <li><strong>react(component, props)</strong>: Monta un componente de React específico.</li>
                            </ul>

                            <p>Ejemplo de una plantilla HTML completa:</p>

                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">templates/html/react.html</span>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-html">
&lt;!DOCTYPE html&gt;
&lt;html lang="{{ lang }}"&gt;
  &lt;head&gt;
    &lt;meta charset="UTF-8" /&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0" /&gt;
    &lt;meta name="color-scheme" content="light dark" /&gt;
    &lt;meta http-equiv="X-UA-Compatible" content="ie=edge" /&gt;
    &lt;meta name="description" content="{{ description }}" /&gt;
    &lt;meta name="keywords" content="{{ keywords }}" /&gt;
    &lt;meta name="author" content="{{ author }}" /&gt;
    &lt;title&gt;{{ title }}&lt;/title&gt;
    &lt;link rel="icon" type="image/x-icon" href="{{ public('img/lila.png') }}" /&gt;
    &lt;link rel="stylesheet" href="{{ public('css/lila.css') }}" /&gt;
    {{ vite_assets() | safe }}
  &lt;/head&gt;
  &lt;body&gt;
    &lt;main class="mt-4 container"&gt;
      &lt;h1&gt;Ejemplo de integración React&lt;/h1&gt;
      &lt;div&gt;{{ react('Counter', {'start': 3}) | safe }}&lt;/div&gt;
    &lt;/main&gt;
  &lt;/body&gt;
&lt;/html&gt;
            </code></pre>
                                </div>
                            </div>

                            <h5 class="text-2xl font-semibold">Cómo Funciona</h5>
                            <p>
                                <strong>Desarrollo (DEBUG=True):</strong><br>
                                El ayudante <code class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">vite_assets()</code> inyecta scripts apuntando a <code class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">http://localhost:5173</code>.
                                Puedes iniciar el servidor de desarrollo con:
                            </p>
                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">Terminal</span>
                                </div>
                                <div class="editor-content">
                                     <pre><code class="language-bash">
npm run dev
# O
python -m cli.react dev
            </code></pre>
                                </div>
                            </div>

                            <p>
                                <strong>Producción (DEBUG=False):</strong><br>
                                Ejecuta <code class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">npm run build</code> para compilar tu código React en <code class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">public/build</code>. 
                                El ayudante detectará automáticamente el archivo <code class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">manifest.json</code> y cargará los archivos CSS y JS hasheados para un rendimiento óptimo.
                            </p>

                            <h5 class="text-2xl font-semibold">Beneficios</h5>
                            <ul class="list-disc ml-6 mt-4">
                                <li><strong>SEO con Jinja</strong>: El contenido de tu página principal es renderizado por Jinja, asegurando que los motores de búsqueda puedan leerlo perfectamente.</li>
                                <li><strong>Interactividad React</strong>: Usa React solo donde sea necesario (arquitectura de Islas).</li>
                                <li><strong>Sesiones Seguras</strong>: Puedes confiar en las sesiones seguras y firmadas de Lila (<code class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">itsdangerous</code>) para la autenticación, mientras los componentes de React se comunican con tus puntos finales de API.</li>
                            </ul>

                        </article>
                        <hr />

                        <article id="rest_api_crud-esp" class="mt-8 mb-8">
                            <h1 class="text-2xl font-semibold">Generación Simple de CRUD de API REST</h1>
                            <h5 class="text-2xl font-semibold">En Lila, tenemos una forma sencilla de generar CRUDs con
                                documentación automática, permitiéndote crear tu API REST de manera eficiente.</h5>

                            <p>Gracias a la combinación de modelos de <strong>SQLAlchemy</strong> y
                                <strong>Pydantic</strong>, es posible realizar validaciones de datos y ejecutar
                                consultas estructuradas para la generación de la API.
                            </p>

                            <p>Además, puedes integrar <strong>middlewares</strong> personalizados para validar tokens,
                                gestionar sesiones o procesar solicitudes. Con solo unas pocas líneas de código, puedes
                                generar un CRUD de API REST completamente documentado.</p>

                            <br />
                            <p>
                                <strong>Si aún no lo has hecho, habilita las migraciones cuando inicies el
                                    servidor</strong>.
                                Por defecto, utiliza SQLite, creará un archivo de base de datos <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">lila.sqlite</code>
                                en la raíz del proyecto.
                            </p>
                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">term</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="bash">
python -m cli.migrations 

</code>
</pre>
                                </div>
                            </div>
                            <br />

                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">routes/api.py</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-python">
from lila.core.request import Request
from lila.core.responses import JSONResponse
from lila.core.routing import Router
from pydantic import EmailStr, BaseModel
from app.middlewares.middlewares import validate_token, check_token, check_session
from app.connections import connection  # Conexión a la base de datos con SQLAlchemy
from app.models.user import User  # Modelo 'User' de SQLAlchemy

router = Router()# Inicializa la instancia del enrutador para gestionar las rutas de la API.


# Modelo Pydantic para validaciones al crear o modificar un usuario.
class UserModel(BaseModel):
    email: EmailStr
    name: str
    token: str
    password: str

# Definiciones de middlewares para operaciones CRUD
middlewares_user = {
    "get": [],
    "post": [], 
    "get_id": [],
    "put": [],
    "delete": [check_session, check_token],#Ejemplo de middlewares para sesión web 'check_session' y jwt 'check_token'
}

# Generar automáticamente CRUD con validaciones y configuraciones
router.rest_crud_generate(
    connection=connection,  # Conexión a la base de datos
    model_sql=User,  # Modelo SQLAlchemy
    model_pydantic=UserModel,  # Modelo Pydantic
    select=["name", "email", "id", "created_at", "active"],  # Campos a seleccionar en las consultas
    delete_logic=True,  # Habilita el borrado lógico (actualiza 'active = 0' en lugar de eliminar registros)
    active=True,  # Filtra automáticamente los registros activos ('active = 1')
    middlewares=middlewares_user,  # Middlewares personalizados para cada acción CRUD
)
                            </code></pre>
                                </div>
                            </div>

                            <br />
                            <p>Puedes crear tus propios <strong>middlewares</strong> y pasarlos como una lista para
                                personalizar la seguridad y las validaciones para cada operación de <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">rest_crud_generate</code>.
                            </p>
                            <p>
                                <strong>
                                    Para generar la documentación, recuerda siempre ejecutarla después de las rutas
                                    <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">router.swagger_ui()</code>
                                    y <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">router.openapi_json()</code>
                                </strong>
                            </p>
                            <h5 class="text-2xl font-semibold">Parámetros de la Función para <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">rest_crud_generate</code>
                            </h5>
                            <p>A continuación se muestran los parámetros que acepta esta función para generar CRUD
                                automáticamente:</p>

                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">core/routing.py</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-python">
def rest_crud_generate(
    self,
    connection,
    model_sql,
    model_pydantic: Type[BaseModel],
    select: Optional[List[str]] = None,
    columns: Optional[List[str]] = None,
    active: bool = False,
    delete_logic: bool = False,
    middlewares: dict = None,
    jsonresponse_prefix:str='',#Devolver con prefijo de lista o dict 'data' como primera clave

    user_id_session:bool| str=False #Ejemplo 'user id' para validar en la consulta con where 'user_id'= id session_user

) :                    </code></pre>
                                </div>
                            </div>

                            <h5 class="text-2xl font-semibold">Documentación Automática</h5>
                            <p>A continuación se muestra un ejemplo de la documentación generada para la función <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">rest_crud_generate</code>:
                            </p>
                            <p>Ve a <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">http://127.0.0.1:8000/docs</code>,
                                o como esté configurado en tu archivo .env (por HOST y PORT).</p>
                            <div>
                                <h5 class="text-2xl font-semibold">GET - Obtener todos los usuarios</h5>
                                <img src="../img/rest_1.png" alt="GET - Obtener todos los usuarios">
                                <br />

                                <h5 class="text-2xl font-semibold">GET - Salida de todos los usuarios</h5>
                                <img src="../img/rest_2.png" alt="GET - Salida">
                                <br />

                                <h5 class="text-2xl font-semibold">POST - Crear nuevo usuario</h5>
                                <img src="../img/rest_3.png" alt="POST - Crear nuevo usuario">
                                <br />

                                <h5 class="text-2xl font-semibold">GET_ID - Obtener un usuario específico</h5>
                                <img src="../img/rest_4-5.png" alt="GET_ID - Obtener un usuario específico">
                                <br />

                                <h5 class="text-2xl font-semibold">PUT - Actualizar usuario</h5>
                                <img src="../img/rest_4.png" alt="PUT - Actualizar usuario">
                                <br />

                                <h5 class="text-2xl font-semibold">DELETE - Eliminar usuario</h5>
                                <img src="../img/rest_5.png" alt="DELETE - Eliminar usuario">
                                <br />
                            </div>
                            <br />
                            <p>En este ejemplo, lo hicimos con 'users', pero puedes aplicarlo como quieras según tu
                                lógica, 'products', 'stores', etc. Incluso modificando el núcleo en <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">core/routing.py</code>.
                            </p>
                            <br />
                            <p>
                                <strong>
                                    Para la función de método 'POST' o 'PUT',
                                </strong>
                                Si el framework detecta que pasas datos en el cuerpo de la solicitud como:
                                'password', lo codificará automáticamente con argon2 para hacerlo seguro.
                                Ejemplo de cuerpo:
                            <pre><code class="language-json">
{
"email":"example@example.com",
"name":"name",
"password":"my_password_secret"
}
                        </code>
                        </pre>
                            </p>
                            <p>Luego, si pasas 'token' o 'hash', con la función <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">helper</code>
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">generate_token_value</code>
                                , genera automáticamente un token, que se guardará en la base de datos como la columna
                                'token' con el valor generado por la función.
                                Ejemplo de cuerpo:
                            <pre><code class="language-json">
{
"email":"example@example.com",
"name":"name",
"password":"my_password_secret",
"token":""
}
                        </code>
                        </pre>
                            </p>
                            <p>
                                Con 'created_at' o 'created_date', guardará la fecha y hora del momento, siempre que ese
                                campo exista en la tabla de la base de datos.
                                Ejemplo de cuerpo:
                            <pre><code class="language-json">
{
"email":"example@example.com",
"name":"name",
"password":"my_password_secret",
"token":"",
"created_at":""
}
                        </code>
                        </pre>

                            </p>
                            <p>
                                <strong>Para los métodos 'PUT', 'GET' (get_id) o 'DELETE'</strong>
                                Es opcional según la lógica de cada API REST, puedes pasarlo como <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">query string</code>,
                                <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">user_id</code>
                                o <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">id_user</code>,
                                un ejemplo sería GET, PUT o DELETE como método a la url
                                http://127.0.0.1:8000/api/products/1?user_id=20
                            </p>
                            <p>Donde valida que el ID del producto '1' existe pero también que pertenece al ID de
                                usuario '20'.
                            </p>

                            <h2 class="text-2xl mt-4 font-bold">Nuevos Parámetros para Generación de CRUD en HTML</h2>
                            <p>
                                Además de generar el CRUD de la API REST, <code
                                    class="font-mono">rest_crud_generate</code> ahora acepta tres nuevos parámetros para
                                crear un CRUD en HTML completamente funcional:
                            </p>
                            <ul>
                                <li><strong>generate_html: bool = True</strong> – Genera automáticamente un CRUD en HTML
                                    usando un datatable responsive de Lila. Útil para generar la interfaz solo en
                                    desarrollo.</li>
                                <li><strong>rewrite_template: bool = False</strong> – Si es True, sobrescribe templates
                                    existentes.</li>
                                <li><strong>url_html: str = None</strong> – Opcional. Permite especificar la URL de
                                    salida del HTML. Si no se provee, el HTML puede copiarse y usarse en cualquier ruta.
                                </li>
                            </ul>

                            <p>
                                Esta funcionalidad permite generar CRUDs con <strong>create, update, delete, paginación,
                                    validaciones</strong> y utiliza el mismo REST CRUD API como backend.
                                Es ideal para crear rápidamente múltiples CRUDs en HTML y backend para tu aplicación:
                                con aproximadamente 30 líneas de código, ya tienes un CRUD en HTML funcional listo para
                                pequeños ajustes o incluso listo para usar tal cual.
                            </p>

                            <p>
                                Puedes pasar <code class="font-mono">DEBUG</code> desde <code
                                    class="font-mono">from app.config import DEBUG</code> a <code
                                    class="font-mono">generate_html</code> para que solo se genere en desarrollo.
                                Si pasas <code class="font-mono">generate_html=False</code>, el HTML no se generará
                                automáticamente y puedes usarlo como desees.
                            </p>


                        </article>
                        <hr />

                        <article id="admin-panel-esp" class="mt-8 mb-8">
                            <h1 class="text-2xl font-semibold">Panel de Administración</h1>
                            <p>
                                El módulo <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">Admin</code>
                                te permite gestionar un panel de administración para tu aplicación.
                                Incluye autenticación, gestión de modelos, métricas del sistema y más. Este panel es
                                altamente personalizable y se integra fácilmente con tu aplicación.
                            </p>
                            <p>
                                El panel de administración ahora es más modular y flexible. Todos los componentes
                                relacionados con la administración (plantillas, rutas y configuración)
                                se encuentran en la carpeta <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">admin</code>,
                                lo que facilita su personalización y extensión.
                            </p>

                            <h2 class="text-xl">Características Clave</h2>
                            <ul>
                                <li><strong>Autenticación</strong>: Inicio y cierre de sesión seguros para
                                    administradores.</li>
                                <li><strong>Gestión de Modelos</strong>: Genera automáticamente rutas y vistas para
                                    gestionar tus modelos.</li>
                                <li><strong>Métricas del Sistema</strong>: Supervisa el uso de memoria y CPU tanto para
                                    la aplicación como para el servidor.</li>
                                <li><strong>Gestión de Contraseñas</strong>: Permite a los administradores cambiar sus
                                    contraseñas.</li>
                                <li><strong>Registros</strong>: Permite a los administradores ver los <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">Logs</code>
                                    de la aplicación.
                                </li>
                            </ul>

                            <h2 class="text-xl">Uso Básico</h2>
                            <p>
                                Para usar el panel de administración, necesitas importar la clase <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">Admin</code>
                                de <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">admin.routes</code>
                                y pasarle una lista opcional de modelos que quieres gestionar. Cada modelo debe
                                implementar un método <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">get_all</code>
                                para ser mostrado en el panel de administración.
                            </p>

                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">main.py</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre>
                <code class="language-python">
# English: Here we activate the admin panel with default settings.
# Español: Aquí activamos el panel de administrador con configuraciones predeterminadas.
from app.routes.admin import Admin
from app.models.user import User
admin_routes=Admin(models=[User])
all_routes = list(itertools.chain(routes, api_routes,admin_routes))
                </code>
            </pre>
                                </div>
                            </div>

                            <h2 class="text-xl">Configuración y Migraciones</h2>
                            <p>
                                Antes de usar el panel de administración, necesitas ejecutar las migraciones:
                            </p>
                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">Terminal</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre>
                <code class="language-bash">
python -m cli.migrations
                </code>
            </pre>
                                </div>
                            </div>

                            <h2 class="text-xl">Creación de Usuarios Administradores</h2>
                            <p>
                                Los usuarios administradores se pueden crear a través de la línea de comandos con
                                parámetros personalizables:
                            </p>
                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">Terminal</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre>
                <code class="language-bash">
# Uso predeterminado (se genera una contraseña aleatoria)
python -m cli.create_panel_admin

# Con nombre de usuario y contraseña personalizados
python -m cli.create_panel_admin --user miadmin --password misecretopassword
                </code>
            </pre>
                                </div>
                            </div>

                            <h2 class="text-xl">Rutas Generadas</h2>
                            <p>
                                El panel de administración genera automáticamente las siguientes rutas:
                            </p>
                            <p>
                                Puedes acceder a las plantillas en la carpeta <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">templates/html/admin</code>.
                            </p>
                            <ul>
                                <li><strong>Login</strong>: <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">/admin/login</code>
                                    (GET/POST)</li>
                                <li><strong>Logout</strong>: <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">/admin/logout</code>
                                    (GET)</li>
                                </li>
                                <li><strong>Dashboard</strong>: <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">/admin</code>
                                    (GET)</li>
                                <li><strong>Gestión de Modelos</strong>: <code
                                        class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">/admin/{model_plural}</code>
                                    (GET)</li>
                            </ul>

                            <h2 class="text-xl">Middleware de Autenticación</h2>
                            <p>
                                Para proteger las rutas y asegurar que solo los administradores autenticados puedan
                                acceder a ellas, usa el decorador <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">@admin_required</code>
                                de <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">core/admin.py</code>.
                            </p>
                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">Uso del Middleware</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre>
                <code class="language-python">
from lila.core.admin import admin_required

@router.route(path="/admin", methods=["GET"])
@admin_required
async def admin_route(request: Request):
    menu_html = menu(models=models)
    return await admin_dashboard(request=request, menu=menu_html)
                </code>
            </pre>
                                </div>
                            </div>

                            <h2 class="text-xl">Métricas del Sistema</h2>
                            <p>
                                El panel de administración muestra métricas en tiempo real, incluyendo:
                            </p>
                            <ul>
                                <li>Uso de memoria del framework Lila.</li>
                                <li>Uso de CPU del framework Lila.</li>
                                <li>Uso de memoria del sistema.</li>
                                <li>Uso de CPU del sistema.</li>
                            </ul>
                            <p>
                                Estas métricas se actualizan cada 10 segundos.
                            </p>

                            <h2 class="text-xl">Registros</h2>
                            <p>
                                En Lila, usamos un middleware que puedes habilitar o deshabilitar si quieres usar <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">Logs</code>
                                para información, advertencias o errores en tu aplicación.
                            </p>
                            <p>
                                El middleware se encuentra en <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">core/middleware.py</code>
                                y se agrega a la aplicación con: <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">app.add_middleware(ErrorHandlerMiddleware)</code>.
                            </p>
                            <p>
                                Esto ayuda a generar registros que puedes ver en el panel de administración, organizados
                                por fecha (en carpetas) y tipo.
                            </p>
                            <p class="container">
                                <img src="../img/admin.png" alt="admin" />
                            </p>
                            <br />
                            <p class="container">
                                <img src="../img/admin_2.png" alt="admin" />
                            </p>

                            <h1 class="  text-2xl font-semibold mt-4">Creación de Usuarios Administradores (Comando
                                Simple)</h1>
                            <p>
                                Además del comando para crear el panel completo, ahora puedes crear administradores
                                individuales sin afectar las rutas, middlewares o configuraciones existentes.
                                Este comando es útil para añadir nuevos usuarios administradores de manera rápida.
                            </p>
                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">Terminal</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre>
<code class="language-bash">
# Crear un administrador con nombre de usuario y contraseña específicos
python -m cli.create_admin --username miadmin --password misecretopassword

# Crear un administrador con usuario personalizado y contraseña generada automáticamente
python -m cli.create_admin --username miadmin
</code>
        </pre>
                                </div>
                            </div>
                            <p>
                                <strong>Nota:</strong> Este comando solo agrega el usuario administrador en la base de
                                datos. No genera rutas, middlewares ni plantillas, por lo que se puede usar incluso si
                                el panel ya está activo o personalizado.
                            </p>


                        </article>
                        <hr />

                        <article id="minify-esp" class="mt-8 mb-8">
                            <h1 class="text-2xl font-semibold">Minificar archivos para producción</h1>
                            <p>
                                Con el comando <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">lila-minify</code>
                                puedes minificar tus archivos js, css , que se encuentran en las carpetas <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">public</code>
                                y <code
                                    class="font-mono font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-0.5 rounded-md">templates</code>.
                            </p>


                            <div class="code-editor mt-4 mb-4">
                                <div class="editor-header">
                                    <span class="editor-title">Comando de Terminal</span>
                                    <div class="editor-controls">
                                        <div class="control close"></div>
                                        <div class="control minimize"></div>
                                        <div class="control maximize"></div>
                                    </div>
                                </div>
                                <div class="editor-content">
                                    <pre><code class="language-bash">
lila-minify
#O
python -m cli.minify
</code></pre>
                                </div>
                            </div>
                        </article>
                        <hr />

                        <article id="production-esp" class="section-card">
                            <h2 class="text-3xl font-bold text-gray-800 dark:text-white mb-6">Despliegue a Producción
                            </h2>

                            <h3 class="text-2xl font-semibold text-gray-800 dark:text-white mt-8 mb-4">Servidor Linux
                                (con systemd)</h3>
                            <p class="text-gray-600 dark:text-gray-300 mb-6">
                                Para desplegar tu aplicación Lila en un servidor Linux, se recomienda usar un entorno
                                virtual y un servicio systemd para gestionar el proceso.
                            </p>

                            <h4 class="text-xl font-semibold text-gray-800 dark:text-white mt-6 mb-3">1. Crear un
                                Entorno Virtual</h4>
                            <div class="code-editor">
                                <div class="editor-header"><span>Terminal</span></div>
                                <div class="editor-content">
                                    <pre><code class="language-bash">
python -m venv venv
source venv/bin/activate
pip install -r requirements.txt
                        </code></pre>
                                </div>
                            </div>

                            <h4 class="text-xl font-semibold text-gray-800 dark:text-white mt-6 mb-3">2. Crear un Script
                                de Inicio</h4>
                            <div class="code-editor">
                                <div class="editor-header"><span>start_lila.sh</span></div>
                                <div class="editor-content">
                                    <pre><code class="language-bash">
#!/bin/bash
source /ruta/a/tu/proyecto/venv/bin/activate
python /ruta/a/tu/proyecto/main.py
                        </code></pre>
                                </div>
                            </div>

                            <h4 class="text-xl font-semibold text-gray-800 dark:text-white mt-6 mb-3">3. Crear un
                                Servicio systemd</h4>
                            <div class="code-editor">
                                <div class="editor-header"><span>/etc/systemd/system/lila.service</span></div>
                                <div class="editor-content">
                                    <pre><code class="language-ini">
[Unit]
Description=Servicio de Lila Framework
After=network.target

[Service]
User=tu_usuario
Group=tu_grupo
WorkingDirectory=/ruta/a/tu/proyecto
ExecStart=/ruta/a/tu/proyecto/start_lila.sh
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
                        </code></pre>
                                </div>
                            </div>

                            <h4 class="text-xl font-semibold text-gray-800 dark:text-white mt-6 mb-3">4. Habilitar e
                                Iniciar el Servicio</h4>
                            <div class="code-editor">
                                <div class="editor-header"><span>Terminal</span></div>
                                <div class="editor-content">
                                    <pre><code class="language-bash">
sudo systemctl daemon-reload
sudo systemctl enable lila.service
sudo systemctl start lila.service
chmod +x /path/your_project/start_lila.sh
                        </code></pre>
                                </div>
                            </div>

                            <h3 class="text-2xl font-semibold text-gray-800 dark:text-white mt-8 mb-4">Servidor Windows
                            </h3>
                            <p class="text-gray-600 dark:text-gray-300 mb-6">
                                En Windows, puedes usar el Programador de Tareas para ejecutar tu aplicación al inicio.
                            </p>
                            <ol class="list-decimal list-inside text-gray-600 dark:text-gray-300 space-y-2">
                                <li>Crea un script `.bat` o `.ps1` para iniciar tu aplicación.</li>
                                <li>Abre el Programador de Tareas y crea una nueva tarea que se ejecute al inicio del
                                    sistema.</li>
                                <li>Establece la acción para que ejecute tu script.</li>
                            </ol>

                            <h3 class="text-2xl font-semibold text-gray-800 dark:text-white mt-8 mb-4">Desactivar el
                                Modo de Depuración</h3>
                            <p class="text-gray-600 dark:text-gray-300 mb-6">
                                En tu archivo `.env`, asegúrate de establecer `DEBUG=False` para producción.
                            </p>
                            <div class="code-editor">
                                <div class="editor-header"><span>.env</span></div>
                                <div class="editor-content">
                                    <pre><code class="language-ini">
DEBUG=False
                        </code></pre>
                                </div>
                            </div>
                        </article>

                </div>
        </main>
    </div>

</body>

</html>
